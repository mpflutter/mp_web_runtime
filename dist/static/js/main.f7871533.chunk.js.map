{"version":3,"sources":["polyfills/object_values.js","components/mpcore/utils/geometry.ts","components/mpcore/components/align.tsx","components/mpcore/utils/color.ts","components/mpcore/components/colored_box.tsx","components/mpcore/components/constrained_box.tsx","components/mpcore/components/flex.tsx","components/mpcore/utils/text.ts","components/mpcore/components/rich_text.tsx","components/mpcore/components/padding.tsx","components/mpcore/components/list_view.tsx","components/mpcore/components/sized_box.tsx","components/mpcore/components/decorated_box.tsx","components/mpcore/utils/border.ts","components/mpcore/components/divider.tsx","components/mpcore/components/image.tsx","components/mpcore/components/clip_oval.tsx","components/mpcore/components/clip_r_rect.tsx","components/mpcore/components/opacity.tsx","components/mpcore/components/flexible.tsx","components/mpcore/components/gesture_detector.tsx","components/mpcore/components/stack.tsx","components/mpcore/components/positioned.tsx","components/mpcore/components/visibility.tsx","components/mpcore/components/offstage.tsx","components/mpcore/components/transform.tsx","components/mpcore/components/absorb_pointer.tsx","components/mpcore/components/ignore_pointer.tsx","components/mpcore/components/icon.tsx","components/mpcore/components/custom_scroll_view.tsx","components/mpcore/components/sliver_list.tsx","components/mpcore/components/div.tsx","components/mpcore/components/editable_text.tsx","components/mpcore/components/tab_bar.tsx","components/mpcore/components/grid_waterfall_layout.tsx","components/mpcore/components/grid_view.tsx","components/mpcore/components/sliver_grid.tsx","components/mpcore/components/wrap.tsx","components/mpcore/components/sliver_persistent_header.tsx","components/mpcore/mpkit/web_view.tsx","components/mpcore/mpkit/scaffold.tsx","components/mpcore/mpkit/page_view.tsx","components/mpcore/mpkit/video_view.tsx","components/mpcore/mpkit/mpkit.tsx","components/mpcore/components/custom_paint.tsx","components/mpcore/mpcore.tsx","components/mpcore/components/web_dialogs.tsx","components/mpcore/components/overlay.tsx","components/mpcore/scroll_listener.tsx","components/mpcore/scroll_behavior.tsx","components/mpcore/text_measurer.tsx","components/mpcore/mpjs/mpjs.ts","components/app.tsx","index.tsx"],"names":["Object","values","obj","TypeError","key","val","prototype","hasOwnProperty","call","push","isNumeric","str","isNaN","parseFloat","cssConstraints","value","display","minWidth","cssWidth","maxWidth","minHeight","cssHeight","maxHeight","isTight","cssPadding","startsWith","trimedValue","replace","paddingLeft","paddingTop","paddingRight","paddingBottom","split","map","it","trim","cssBorderRadius","borderRadius","topLeft","match","topRight","bottomLeft","bottomRight","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","cssOffset","dx","dy","Align","justifyContent","alignItems","alignments","this","props","data","attributes","alignment","flexDirection","style","constraints","alignStyles","children","PureComponent","cssColor","intValue","parseInt","cssGradient","classname","end","segments","stops","length","colors","idx","undefined","toFixed","join","ColoredBox","backgroundColor","color","ConstrainedBox","Flex","mainAxisSize","direction","mainAxisAlignment","crossAxisAlignment","cssTextStyle","userSelect","WebkitUserSelect","fontFamily","fontSize","toString","fontWeight","getFontWeightStyle","fontStyle","getFontStyleStyle","letterSpacing","wordSpacing","textBaseline","alignmentBaseline","getBaselineStyle","height","lineHeight","decoration","textDecoration","cssTextAlign","RichText","measuring","maxLines","overflow","textOverflow","textAlign","WebkitLineClamp","WebkitBoxOrient","overflowWrap","wordBreak","wordWrap","whiteSpace","inlineSize","inline","jsxComponentFromSpan","name","TextSpan","onClick","onTap_el","App","callbackChannel","JSON","stringify","type","message","event","target","subTarget","onTap_span","text","WidgetSpan","MPCore","render","Padding","padding","ListView","isRoot","scrollDirection","overflowX","overflowY","SizedBox","width","DecoratedBox","output","image","src","assetName","assetPkg","flutterBase","fit","gradient","boxShadow","shadow","offset","blurRadius","spreadRadius","border","borderTopWidth","topWidth","window","devicePixelRatio","borderTopColor","topColor","borderTopStyle","borderLeftWidth","leftWidth","borderLeftColor","leftColor","borderLeftStyle","borderBottomWidth","bottomWidth","borderBottomColor","bottomColor","borderBottomStyle","borderRightWidth","rightWidth","borderRightColor","rightColor","borderRightStyle","cssBorder","position","top","left","renderDecoration","Divider","thickness","Image","imgConstraints","alt","objectFit","ClipOval","ClipRRect","Opacity","opacity","Flexible","flex","GestureDetector","state","touching","className","cursor","onTouchStart","setState","onTouchMove","onTouchEnd","setTimeout","onTouchCancel","onTap","e","stopPropagation","Stack","Positioned","right","bottom","Visibility","visibility","visible","Offstage","offstage","Transform","transform","AbsorbPointer","IgnorePointer","pointerEvents","ignoring","Icon","icon","size","codePoint","String","fromCharCode","CustomScrollView","SliverList","Div","EditableText","_lastValue","onSubmitted","blur","onChanged","indexOf","signed","decimal","onInput","_onChanged","onChange","rows","readOnly","onKeyUp","keyCode","_onSubmitted","obscureText","_keyboardType","keyboardType","pattern","_keyboardPattern","autoFocus","autofocus","autoCorrect","placeholder","TabBar","index","onTapIndex","selected","renderSliverGridDelegateWithFixedCrossAxisCount","delegate","options","clientWidth","parentWidth","document","body","gridViewPadding","itemWidth","crossAxisSpacing","crossAxisCount","marginLeft","marginRight","marginTop","mainAxisSpacing","marginBottom","childAspectRatio","renderSliverGridDelegateWithMaxCrossAxisExtent","Math","floor","maxCrossAxisExtent","renderSliverWaterfallDelegate","currentRowIndex","layoutCache","maxY","layouts","currentY","itemHeight","nextIndex","y","x","max","GridView","flexWrap","gridDelegate","SliverWaterfallItem","SliverGrid","Wrap","spacing","runSpacing","SliverPersistentHeader","zIndex","MPWebView","title","url","MPScaffold","setupDocumentTitle","setupDocumentMetaData","metaElements","head","element","tagName","getNamedItem","content","metaData","createElement","appendChild","appBarHeight","id","isListBody","appBar","header","tabBar","bottomBar","floatingBody","FloatingBody","positioned","MPPageView","ref","random","swiperInstance","Swiper","loop","changeDirection","MPVideoView","controls","autoPlay","autoplay","muted","poster","MPKit","components","mp_web_view","mp_scaffold","mp_page_view","mp_video_view","MPDrawable","params","decodeNetworkImage","result","decodeMemoryImage","Error","error","hashCode","Promise","res","rej","img","onload","decodedDrawables","onerror","CustomPaint","setCanvasRef","theCanvas","draw","ctx","getContext","save","commands","forEach","cmd","action","drawRect","drawPath","drawDRRect","drawColor","drawImage","drawImageRect","restore","rotate","radians","scale","sx","sy","a","b","c","d","tx","ty","translate","setPaint","paint","fillRect","strokeRect","drawRealPath","path","clip","fill","stroke","offscreenCanvas","canvas","offscreenContext","outer","fillStyle","globalCompositeOperation","inner","beginPath","moveTo","lineTo","quadraticCurveTo","x1","y1","x2","y2","bezierCurveTo","x3","y3","ellipse","startAngle","sweepAngle","arcTo","arcControlX","arcControlY","arcEndX","arcEndY","radiusX","closePath","blendMode","clearRect","drawable","srcX","srcY","srcW","srcH","dstX","dstY","dstW","dstH","lineWidth","strokeWidth","miterLimit","strokeMiterLimit","lineCap","strokeCap","lineJoin","strokeStyle","globalAlpha","alpha","plugin","plugins","colored_box","align","constrained_box","rich_text","list_view","sized_box","decorated_box","divider","clip_oval","clip_r_rect","flexible","gesture_detector","stack","absorb_pointer","ignore_pointer","custom_scroll_view","sliver_list","sliver_grid","div","editable_text","tab_bar","grid_view","wrap","sliver_waterfall_item","sliver_persistent_header","custom_paint","WebDialogs","alert","confirm","prompt","Overlay","onBackgroundTap","ScrollListener","_scrollListener","_scrollToBottomLastCall","pageYOffset","innerHeight","scrollHeight","Date","getTime","addEventListener","removeEventListener","React","Component","ScrollBehavior","setupBodyScrollBehavior","displayingDialog","setProperty","scaffold","TextMeasurer","targetTexts","doScan","newProps","bounds","getElementById","measureId","getBoundingClientRect","scanner","scanRichText","overlays","MPJS","objectRefs","callback","funcCallback","callMethod","getValue","setValue","callingObject","getCallee","objectHandler","callChain","method","apply","args","wrapArgument","wrapResult","console","currentObject","arg","funcId","self","cbArgs","arguments","Array","newArgs","instance","flutterFonts","lastFrameDataHashMap","createHashMap","assign","composeSameMap","diffs","diff","mpflutterUseSocket","setupDartChannel","setupJSChannel","socket","isConnecting","URL","location","href","host","endsWith","hostname","WebSocket","onmessage","messageData","parse","newFrameData","composeHashMap","decodeDrawable","Router","receivedRouteMessage","handleMessage","requestId","receivedWebDialogsMessage","onMessage","onopen","setupFonts","setupPlugins","onclose","setupPopStateListener","send","postMessage","mpClientAttached","font","innerHTML","script","link","rel","media","mainTabBar","isDialogDisplaying","renderConnectingTips","touchable","ReactDOM","unmountComponentAtNode","doBacking","lastState","randomId","didPush","didPop","routeUrl","route","others","filter","encodeURIComponent","history","pushState","back","$MPFlutter","require","StrictMode"],"mappings":"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","file":"static/js/main.f7871533.chunk.js","sourcesContent":["//  Windows Polyfill\nif (!Object.values) {\n  Object.values = function (obj) {\n    if (obj !== Object(obj))\n      throw new TypeError(\"Object.values called on a non-object\");\n    var val = [],\n      key;\n    for (key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        val.push(obj[key]);\n      }\n    }\n    return val;\n  };\n}\n","import { MPConstraints } from \"../component\";\n\nfunction isNumeric(str: any) {\n  if (typeof str === \"number\") return true;\n  if (typeof str !== \"string\") return false; // we only process strings!\n  return (\n    !isNaN(str as any) && !isNaN(parseFloat(str)) // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...\n  ); // ...and ensure strings of whitespace fail\n}\n\nexport const cssConstraints = (value?: MPConstraints): any => {\n  if (!value) return {};\n  return {\n    display: \"flex\",\n    minWidth: cssWidth(value.minWidth), // !value.hasTightWidth ? \"unset\" : cssWidth(value.minWidth),\n    maxWidth: cssWidth(value.maxWidth),\n    minHeight: cssHeight(value.minHeight), // !value.hasTightHeight ? \"unset\" : cssHeight(value.minHeight),\n    maxHeight: cssHeight(value.maxHeight),\n  };\n};\n\nexport const cssWidth = (value: string, isTight = true) => {\n  if (!isNumeric(value)) return \"unset\";\n  if (value === \"Infinity\" && isTight === false) {\n    return \"-webkit-fill-available\";\n  }\n  if (value === \"Infinity\") {\n    return \"100%\";\n  } else if (value === \"0.001\") {\n    return \"100%\";\n  } else {\n    return value + \"px\";\n  }\n};\n\nexport const cssHeight = (value: string, isTight = true) => {\n  if (!isNumeric(value)) return \"unset\";\n  if (value === \"Infinity\" && isTight === false) {\n    return \"-webkit-fill-available\";\n  }\n  if (value === \"Infinity\") {\n    return \"100%\";\n  } else if (value === \"0.001\") {\n    return \"100%\";\n  } else {\n    return value + \"px\";\n  }\n};\n\nexport const cssPadding = (value: string) => {\n  if (!value) return {};\n  if (value.startsWith(\"EdgeInsets.zero\")) {\n    return {};\n  } else if (value.startsWith(\"EdgeInsets.all(\")) {\n    const trimedValue = value.replace(\"EdgeInsets.all(\", \"\").replace(\")\", \"\");\n    return {\n      paddingLeft: trimedValue + \"px\",\n      paddingTop: trimedValue + \"px\",\n      paddingRight: trimedValue + \"px\",\n      paddingBottom: trimedValue + \"px\",\n    };\n  } else if (value.startsWith(\"EdgeInsets(\")) {\n    const trimedValue = value.replace(\"EdgeInsets(\", \"\").replace(\")\", \"\");\n    const values = trimedValue.split(\",\").map((it) => it.trim());\n    return {\n      paddingLeft: values[0] + \"px\",\n      paddingTop: values[1] + \"px\",\n      paddingRight: values[2] + \"px\",\n      paddingBottom: values[3] + \"px\",\n    };\n  } else {\n    return {};\n  }\n};\n\nexport const cssBorderRadius = (value: string) => {\n  if (value.startsWith(\"BorderRadius.circular(\")) {\n    const trimedValue = value\n      .replace(\"BorderRadius.circular(\", \"\")\n      .replace(\")\", \"\");\n    return { borderRadius: trimedValue + \"px\" };\n  } else if (value.startsWith(\"BorderRadius.all(\")) {\n    const trimedValue = value.replace(\"BorderRadius.all(\", \"\").replace(\")\", \"\");\n    return { borderRadius: trimedValue + \"px\" };\n  } else if (value.startsWith(\"BorderRadius.only(\")) {\n    const trimedValue = value\n      .replace(\"BorderRadius.only(\", \"\")\n      .replace(/\\)/gi, \"\")\n      .replace(/Radius.circular\\(/gi, \"\");\n    const topLeft = trimedValue.match(/topLeft: ([0-9|.]+)/)?.[1] ?? 0;\n    const topRight = trimedValue.match(/topRight: ([0-9|.]+)/)?.[1] ?? 0;\n    const bottomLeft = trimedValue.match(/bottomLeft: ([0-9|.]+)/)?.[1] ?? 0;\n    const bottomRight = trimedValue.match(/bottomRight: ([0-9|.]+)/)?.[1] ?? 0;\n    return {\n      borderTopLeftRadius: `${topLeft}px`,\n      borderTopRightRadius: `${topRight}px`,\n      borderBottomLeftRadius: `${bottomLeft}px`,\n      borderBottomRightRadius: `${bottomRight}px`,\n    };\n  } else {\n    return {};\n  }\n};\n\nexport const cssOffset = (\n  value: string\n): { dx: string; dy: string } | undefined => {\n  if (value.startsWith(\"Offset(\")) {\n    const trimedValue = value.replace(\"Offset(\", \"\").replace(\")\", \"\");\n    const values = trimedValue.split(\",\").map((it) => it.trim());\n    return { dx: values[0], dy: values[1] };\n  } else {\n    return undefined;\n  }\n};\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class Align extends PureComponent<{ data: MPComponentsProps }> {\n  alignStyles() {\n    let alignments = this.props.data.attributes.alignment;\n    let justifyContent;\n    if (\n      alignments === \"bottomLeft\" ||\n      alignments === \"centerLeft\" ||\n      alignments === \"topLeft\"\n    ) {\n      justifyContent = \"flex-start\";\n    } else if (\n      alignments === \"bottomCenter\" ||\n      alignments === \"center\" ||\n      alignments === \"topCenter\"\n    ) {\n      justifyContent = \"center\";\n    } else if (\n      alignments === \"bottomRight\" ||\n      alignments === \"centerRight\" ||\n      alignments === \"topRight\"\n    ) {\n      justifyContent = \"flex-end\";\n    }\n    let alignItems;\n    if (\n      alignments === \"topCenter\" ||\n      alignments === \"topLeft\" ||\n      alignments === \"topRight\"\n    ) {\n      alignItems = \"flex-start\";\n    } else if (\n      alignments === \"centerLeft\" ||\n      alignments === \"center\" ||\n      alignments === \"centerRight\"\n    ) {\n      alignItems = \"center\";\n    } else if (\n      alignments === \"bottomCenter\" ||\n      alignments === \"bottomLeft\" ||\n      alignments === \"bottomRight\"\n    ) {\n      alignItems = \"flex-end\";\n    }\n    return { display: \"flex\", flexDirection: \"row\", justifyContent, alignItems };\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          ...this.alignStyles(),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","export const cssColor = (value: string) => {\n  const intValue = parseInt(value);\n\n  return `rgba(${(intValue >> 16) & 0xff}, ${(intValue >> 8) & 0xff}, ${\n    (intValue >> 0) & 0xff\n  }, ${((intValue >> 24) & 0xff) / 255.0})`;\n};\n\nexport const cssGradient = (value: any) => {\n  if (!value) return \"\";\n  if (value.classname === \"LinearGradient\") {\n    let end = (() => {\n      switch (value.end) {\n        case \"centerRight\":\n          return \"to right\";\n        case \"centerLeft\":\n          return \"to left\";\n        case \"topRight\":\n          return \"to top right\";\n        case \"bottomRight\":\n          return \"to bottom right\";\n        case \"topLeft\":\n          return \"to top left\";\n        case \"bottomLeft\":\n          return \"to bottom left\";\n        case \"topCenter\":\n          return \"to top\";\n        case \"bottomCenter\":\n          return \"to bottom\";\n        default:\n          break;\n      }\n    })();\n    let segments: string[] = [];\n    if (value.stops && value.stops.length) {\n      segments = value.colors.map((it: string, idx: number) => {\n        if (value.stops[idx] !== undefined) {\n          return `${cssColor(it)} ${(value.stops[idx] * 100).toFixed(0)}%`;\n        } else {\n          return cssColor(it);\n        }\n      });\n    } else {\n      segments = value.colors.map((it: string) => cssColor(it));\n    }\n    return `linear-gradient(${end}, ${segments.join(\", \")})`;\n  }\n  return ``;\n};\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class ColoredBox extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          backgroundColor: cssColor(this.props.data.attributes.color),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class ConstrainedBox extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    if (!this.props.children || !(this.props.children as any).length) {\n      return (\n        <div style={{ ...cssConstraints(this.props.data.constraints) }}></div>\n      );\n    }\n    return this.props.children;\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssHeight, cssWidth } from \"../utils/geometry\";\n\nexport class Flex extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (\n      this.props.data.attributes.mainAxisSize === \"MainAxisSize.max\" &&\n      this.props.data.attributes.direction === \"Axis.vertical\"\n    ) {\n      constraints.minHeight = this.props.data.constraints?.minHeight\n        ? cssHeight(this.props.data.constraints.maxHeight)\n        : \"unset\";\n    } else if (\n      this.props.data.attributes.mainAxisSize === \"MainAxisSize.max\" &&\n      this.props.data.attributes.direction === \"Axis.horizontal\"\n    ) {\n      constraints.minWidth = this.props.data.constraints?.minWidth\n        ? cssWidth(this.props.data.constraints.maxWidth)\n        : \"unset\";\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: (() => {\n            switch (this.props.data.attributes.direction) {\n              case \"Axis.vertical\":\n                return \"column\";\n              case \"Axis.horizontal\":\n                return \"row\";\n              default:\n                return \"column\";\n            }\n          })(),\n          justifyContent: (() => {\n            switch (this.props.data.attributes.mainAxisAlignment) {\n              case \"MainAxisAlignment.start\":\n                return \"flex-start\";\n              case \"MainAxisAlignment.center\":\n                return \"center\";\n              case \"MainAxisAlignment.end\":\n                return \"flex-end\";\n              case \"MainAxisAlignment.spaceBetween\":\n                return \"space-between\";\n              case \"MainAxisAlignment.spaceAround\":\n                return \"space-around\";\n              case \"MainAxisAlignment.spaceEvenly\":\n                return \"space-evenly\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          alignItems: (() => {\n            switch (this.props.data.attributes.crossAxisAlignment) {\n              case \"CrossAxisAlignment.start\":\n                return \"flex-start\";\n              case \"CrossAxisAlignment.center\":\n                return \"center\";\n              case \"CrossAxisAlignment.end\":\n                return \"flex-end\";\n              case \"CrossAxisAlignment.stretch\":\n                return \"stretch\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          ...constraints,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { CSSProperties } from \"react\";\nimport { cssColor } from \"./color\";\n\nfunction getFontWeightStyle(data: any) {\n  if (data.fontWeight) {\n    return data.fontWeight.replace(\"FontWeight.w\", \"\");\n  }\n  return undefined;\n}\n\nfunction getFontStyleStyle(data: any) {\n  if (data.fontStyle === \"FontStyle.italic\") {\n    return \"italic\";\n  }\n  return undefined;\n}\n\nfunction getBaselineStyle(data: any) {\n  if (data.textBaseline === \"TextBaseline.alphabetic\") {\n    return \"alphabetic\";\n  } else if (data.textBaseline === \"TextBaseline.ideographic\") {\n    return \"ideographic\";\n  }\n  return undefined;\n}\n\nexport function cssTextStyle(data: any): CSSProperties {\n  let style: CSSProperties = {\n    userSelect: \"none\",\n    WebkitUserSelect: \"none\",\n  };\n\n  if (data != null) {\n    if (data.fontFamily) {\n      style.fontFamily = data.fontFamily;\n    }\n    if (data.fontSize != null) {\n      style.fontSize = `${(data.fontSize ?? 14).toString()}px`;\n    }\n    if (data.color != null) {\n      style.color = cssColor(data.color);\n    }\n    if (data.fontWeight) {\n      style.fontWeight = getFontWeightStyle(data);\n    }\n    if (data.fontStyle) {\n      style.fontStyle = getFontStyleStyle(data);\n    }\n    if (data.letterSpacing) {\n      style.letterSpacing = data.letterSpacing;\n    }\n    if (data.wordSpacing) {\n      style.wordSpacing = data.wordSpacing;\n    }\n    if (data.textBaseline) {\n      style.alignmentBaseline = getBaselineStyle(data);\n    }\n    if (data.height) {\n      style.lineHeight = data.height;\n    }\n    if (data.backgroundColor != null) {\n      style.backgroundColor = cssColor(data.backgroundColor);\n    }\n    if (data.decoration) {\n      if (data.decoration === \"TextDecoration.lineThrough\") {\n        style.textDecoration = \"line-through\";\n      } else if (data.decoration === \"TextDecoration.underline\") {\n        style.textDecoration = \"underline\";\n      }\n    }\n  }\n  return style;\n}\n\nexport const cssTextAlign = (value: any) => {\n  return value?.replace(\"TextAlign.\", \"\");\n};\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssTextAlign, cssTextStyle } from \"../utils/text\";\nimport { MPCore } from \"../mpcore\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class RichText extends PureComponent<{ data: MPComponentsProps }> {\n\n  render() {\n    let style = {};\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (constraints.minWidth === \"100%\") {\n      constraints.minWidth = \"unset\";\n    }\n    if (constraints.minHeight === \"100%\") {\n      constraints.minHeight = \"unset\";\n    }\n    if (this.props.data.constraints?.measuring) {\n      constraints.minWidth = \"unset\";\n      constraints.minHeight = \"unset\";\n    }\n    if (this.props.data.attributes.maxLines) {\n      style = {\n        ...constraints,\n        ...style,\n        ...{\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n          display: \"-webkit-box\",\n          WebkitLineClamp: this.props.data.attributes.maxLines.toString(),\n          WebkitBoxOrient: \"vertical\",\n          fontSize: \"11px\",\n          lineHeight: this.props.data.attributes.height?.toString(),\n          overflowWrap: \"anywhere\",\n          wordBreak: \"break-all\",\n          wordWrap: \"break-word\",\n          whiteSpace: \"pre-line\",\n          inlineSize:\n            this.props.data.attributes.inline === true\n              ? \"max-content\"\n              : undefined,\n        },\n      };\n    } else {\n      style = {\n        ...constraints,\n        ...style,\n        ...{\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n          display: \"-webkit-box\",\n          WebkitLineClamp: \"99999\",\n          WebkitBoxOrient: \"vertical\",\n          fontSize: \"11px\",\n          lineHeight: this.props.data.attributes.height?.toString(),\n          overflowWrap: \"anywhere\",\n          wordBreak: \"break-all\",\n          wordWrap: \"break-word\",\n          whiteSpace: \"pre-line\",\n          inlineSize:\n            this.props.data.attributes.inline === true\n              ? \"max-content\"\n              : undefined,\n        },\n      };\n    }\n    return (\n      <div style={style}>\n        {this.props.data.children?.map((it, idx) => {\n          return jsxComponentFromSpan(it, idx);\n        })}\n      </div>\n    );\n  }\n}\n\nconst jsxComponentFromSpan = (it: any, idx: number) => {\n  if (it.name === \"text_span\") {\n    return <TextSpan key={`idx_${idx}`} data={it} />;\n  } else if (it.name === \"widget_span\") {\n    return <WidgetSpan key={`idx_${idx}`} data={it} />;\n  } else {\n    return null;\n  }\n};\n\nexport class TextSpan extends PureComponent<any> {\n  render() {\n    return (\n      <span\n        style={cssTextStyle(this.props.data.attributes.style)}\n        onClick={(() => {\n          if (this.props.data.attributes.onTap_el) {\n            return () => {\n              App.callbackChannel(\n                JSON.stringify({\n                  type: \"rich_text\",\n                  message: {\n                    event: \"onTap\",\n                    target: this.props.data.attributes.onTap_el,\n                    subTarget: this.props.data.attributes.onTap_span,\n                  },\n                })\n              );\n            };\n          }\n        })()}\n      >\n        {this.props.data.attributes.text}\n        {this.props.data.children?.map((it: any, idx: number) => {\n          return jsxComponentFromSpan(it, idx);\n        })}\n      </span>\n    );\n  }\n}\n\nexport class WidgetSpan extends PureComponent<any> {\n  render() {\n    return (\n      <div style={{ display: \"inline-flex\" }}>\n        {this.props.data.children.map((it: any, idx: number) =>\n          MPCore.render(it, `ws_child_${idx}`)\n        )}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssPadding } from \"../utils/geometry\";\n\nexport class Padding extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssPadding(this.props.data.attributes.padding),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssPadding } from \"../utils/geometry\";\n\nexport class ListView extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (this.props.data.attributes.isRoot) {\n      if (this.props.data.attributes.scrollDirection === \"Axis.horizontal\") {\n        constraints.maxWidth = \"unset\";\n      } else {\n        constraints.maxHeight = \"unset\";\n      }\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection:\n            this.props.data.attributes.scrollDirection === \"Axis.horizontal\"\n              ? \"row\"\n              : \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"stretch\",\n          ...cssPadding(this.props.data.attributes.padding),\n          ...constraints,\n          overflowX:\n            this.props.data.attributes.scrollDirection === \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n          overflowY:\n            this.props.data.attributes.scrollDirection !== \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssWidth, cssHeight } from \"../utils/geometry\";\n\nexport class SizedBox extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          minWidth: cssWidth(this.props.data.attributes.width),\n          minHeight: cssHeight(this.props.data.attributes.height),\n          maxWidth: cssWidth(this.props.data.attributes.width),\n          maxHeight: cssHeight(this.props.data.attributes.height)\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssBorder } from \"../utils/border\";\nimport { cssColor, cssGradient } from \"../utils/color\";\nimport { cssBorderRadius, cssConstraints, cssOffset } from \"../utils/geometry\";\nimport { flutterBase } from \"../../app\";\n\nexport class DecoratedBox extends PureComponent<{ data: MPComponentsProps }> {\n  renderDecoration() {\n    let output: any = {};\n    if (this.props.data.attributes.color) {\n      output[\"backgroundColor\"] = cssColor(this.props.data.attributes.color);\n    }\n    if (this.props.data.attributes.image) {\n      output[\"backgroundImage\"] = `url(\"${(() => {\n        if (this.props.data.attributes.image.src) {\n          return this.props.data.attributes.image.src;\n        } else if (this.props.data.attributes.image.assetName) {\n          if (this.props.data.attributes.image.assetPkg) {\n            return `${flutterBase}assets/packages/${this.props.data.attributes.image.assetPkg}/${this.props.data.attributes.image.assetName}`;\n          } else {\n            return `${flutterBase}assets/${this.props.data.attributes.image.assetName}`;\n          }\n        }\n      })()}\")`;\n      if (this.props.data.attributes.image.fit === \"BoxFit.cover\") {\n        output[\"backgroundSize\"] = \"cover\";\n      } else {\n        output[\"backgroundSize\"] = \"contain\";\n      }\n    }\n    if (this.props.data.attributes.decoration?.gradient) {\n      if (output[\"backgroundImage\"]) {\n        output[\"backgroundImage\"] =\n          cssGradient(this.props.data.attributes.decoration.gradient) +\n          \",\" +\n          output[\"backgroundImage\"];\n      } else {\n        output[\"background\"] = cssGradient(\n          this.props.data.attributes.decoration.gradient\n        );\n      }\n    }\n    if (this.props.data.attributes.decoration?.boxShadow?.[0]) {\n      const shadow = this.props.data.attributes.decoration?.boxShadow?.[0];\n      output[\"boxShadow\"] = `${cssOffset(shadow.offset)?.dx}px ${\n        cssOffset(shadow.offset)?.dy\n      }px ${shadow.blurRadius}px ${shadow.spreadRadius}px ${cssColor(\n        shadow.color\n      )}`;\n    }\n    if (this.props.data.attributes.decoration?.borderRadius) {\n      output = {\n        ...output,\n        ...cssBorderRadius(this.props.data.attributes.decoration.borderRadius),\n      };\n    }\n    if (this.props.data.attributes.decoration?.border) {\n      output = {\n        ...output,\n        ...cssBorder(this.props.data.attributes.decoration.border),\n      };\n    }\n    return output;\n  }\n\n  render() {\n    if (\n      this.props.data.attributes.position === \"DecorationPosition.foreground\"\n    ) {\n      return (\n        <div\n          style={{\n            position: \"relative\",\n            ...cssConstraints(this.props.data.constraints),\n          }}\n        >\n          {this.props.children}\n          <div\n            style={{\n              position: \"absolute\",\n              top: \"0px\",\n              left: \"0px\",\n              minWidth: \"100%\",\n              minHeight: \"100%\",\n              ...this.renderDecoration(),\n            }}\n          ></div>\n        </div>\n      );\n    } else {\n      return (\n        <div\n          style={{\n            ...cssConstraints(this.props.data.constraints),\n            ...this.renderDecoration(),\n          }}\n        >\n          {this.props.children}\n        </div>\n      );\n    }\n  }\n}\n","import { cssColor } from \"./color\";\n\nexport const cssBorder = (value: any) => {\n    let output: any = {};\n    if (value[`topStyle`] !== \"BorderStyle.none\") {\n        output.borderTopWidth =\n            value.topWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.topWidth + \"px\";\n        output.borderTopColor = cssColor(value.topColor);\n        output.borderTopStyle = \"solid\";\n    }\n    if (value[`leftStyle`] !== \"BorderStyle.none\") {\n        output.borderLeftWidth =\n            value.leftWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.leftWidth + \"px\";\n        output.borderLeftColor = cssColor(value.leftColor);\n        output.borderLeftStyle = \"solid\";\n    }\n    if (value[`bottomStyle`] !== \"BorderStyle.none\") {\n        output.borderBottomWidth =\n            value.bottomWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.bottomWidth + \"px\";\n        output.borderBottomColor = cssColor(value.bottomColor);\n        output.borderBottomStyle = \"solid\";\n    }\n    if (value[`rightStyle`] !== \"BorderStyle.none\") {\n        output.borderRightWidth =\n            value.rightWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.rightWidth + \"px\";\n        output.borderRightColor = cssColor(value.rightColor);\n        output.borderRightStyle = \"solid\";\n    }\n    return output;\n};\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { cssHeight } from \"../utils/geometry\";\nimport React from \"react\";\n\nexport class Divider extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          minWidth: \"100%\",\n          minHeight: cssHeight(this.props.data.attributes.height),\n          maxWidth: \"100%\",\n          maxHeight: cssHeight(this.props.data.attributes.height),\n          alignItems: \"center\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            minWidth: \"100%\",\n            minHeight: cssHeight(this.props.data.attributes.thickness),\n            maxWidth: \"100%\",\n            maxHeight: cssHeight(this.props.data.attributes.thickness),\n            borderTopWidth: cssHeight(\n              this.props.data.attributes.thickness,\n              true\n            ),\n            borderTopStyle: \"solid\",\n            borderTopColor: cssColor(this.props.data.attributes.color),\n          }}\n        ></div>\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { flutterBase } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssHeight, cssWidth } from \"../utils/geometry\";\n\nexport class Image extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    let imgConstraints: any = cssConstraints(this.props.data.constraints);\n    imgConstraints.minWidth = imgConstraints.maxWidth;\n    imgConstraints.minHeight = imgConstraints.maxHeight;\n    if (this.props.data.attributes.width) {\n      imgConstraints.minWidth = cssWidth(this.props.data.attributes.width);\n      imgConstraints.maxWidth = cssWidth(this.props.data.attributes.width);\n    }\n    if (this.props.data.attributes.height) {\n      imgConstraints.minHeight = cssHeight(this.props.data.attributes.height);\n      imgConstraints.maxHeight = cssHeight(this.props.data.attributes.height);\n    }\n    return (\n      <img\n        alt=\"\"\n        style={{\n          ...imgConstraints,\n          objectFit: (() => {\n            if (!this.props.data.attributes.fit) return \"cover\";\n            switch (this.props.data.attributes.fit) {\n              case \"BoxFit.fill\":\n                return \"fill\";\n              case \"BoxFit.contain\":\n                return \"contain\";\n              case \"BoxFit.cover\":\n                return \"cover\";\n              case \"BoxFit.fitWidth\":\n                return \"scale-down\";\n              case \"BoxFit.fitHeight\":\n                return \"scale-down\";\n              case \"BoxFit.none\":\n                return \"none\";\n              default:\n                return \"contain\";\n            }\n          })(),\n        }}\n        src={(() => {\n          if (this.props.data.attributes.src) {\n            return this.props.data.attributes.src;\n          } else if (this.props.data.attributes.assetName) {\n            if (this.props.data.attributes.assetPkg) {\n              return `${flutterBase}assets/packages/${this.props.data.attributes.assetPkg}/${this.props.data.attributes.assetName}`;\n            } else {\n              return `${flutterBase}assets/${this.props.data.attributes.assetName}`;\n            }\n          }\n        })()}\n      ></img>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\n\nexport class ClipOval extends PureComponent {\n  render() {\n    return (\n      <div\n        style={{\n          borderRadius: \"50%\",\n          overflow: \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssBorderRadius } from \"../utils/geometry\";\n\nexport class ClipRRect extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssBorderRadius(this.props.data.attributes.borderRadius),\n          overflow: \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Opacity extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          opacity: this.props.data.attributes.opacity,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Flexible extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flex: this.props.data.attributes.flex\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class GestureDetector extends PureComponent<{ data: MPComponentsProps }> {\n  state = { touching: false };\n\n  render() {\n    return (\n      <div\n        className={this.state.touching ? \"gesture_detector_hover\" : \"\"}\n        style={{cursor: \"pointer\"}}\n        onTouchStart={() => {\n          this.setState({ touching: true });\n        }}\n        onTouchMove={() => {\n          this.setState({ touching: false });\n        }}\n        onTouchEnd={() => {\n          setTimeout(() => {\n            this.setState({ touching: false });\n          }, 150);\n        }}\n        onTouchCancel={() => {\n          this.setState({ touching: false });\n        }}\n        onClick={\n          this.props.data.attributes.onTap\n            ? (e: any) => {\n                App.callbackChannel(\n                  JSON.stringify({\n                    type: \"gesture_detector\",\n                    message: {\n                      event: \"onTap\",\n                      target: this.props.data.attributes.onTap,\n                    },\n                  })\n                );\n                e.stopPropagation();\n              }\n            : undefined\n        }\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class Stack extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          position: \"relative\",\n          ...cssConstraints(this.props.data.constraints),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssWidth } from \"../utils/geometry\";\n\nexport class Positioned extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          left: cssWidth(this.props.data.attributes.left),\n          top: cssWidth(this.props.data.attributes.top),\n          right: cssWidth(this.props.data.attributes.right),\n          bottom: cssWidth(this.props.data.attributes.bottom),\n          width: cssWidth(this.props.data.attributes.width),\n          height: cssWidth(this.props.data.attributes.height)\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Visibility extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          visibility: this.props.data.attributes.visible ? \"unset\" : \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Offstage extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    if (this.props.data.attributes.offstage === true) {\n      return null;\n    } else {\n      return this.props.children;\n    }\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Transform extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          transform: this.props.data.attributes.transform,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class AbsorbPointer extends PureComponent<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return (\n      <div\n        style={{}}\n        onClick={(e: any) => {\n          e.stopPropagation();\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class IgnorePointer extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          pointerEvents: this.props.data.attributes.ignoring\n            ? \"none\"\n            : undefined,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { cssConstraints, cssWidth } from \"../utils/geometry\";\n\nexport class Icon extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          fontFamily: this.props.data.attributes.icon?.fontFamily,\n          color:\n            this.props.data.attributes.color &&\n            cssColor(this.props.data.attributes.color),\n          fontSize: cssWidth(this.props.data.attributes.size),\n        }}\n      >\n        {this.props.data.attributes.icon?.codePoint\n          ? String.fromCharCode(this.props.data.attributes.icon?.codePoint)\n          : \"\"}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { cssConstraints } from \"../utils/geometry\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class CustomScrollView extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (this.props.data.attributes.isRoot) {\n      constraints.maxHeight = \"unset\";\n    }\n\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"stretch\",\n          ...constraints,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\n\nexport class SliverList extends PureComponent {\n    render() {\n        return <div>{this.props.children}</div>;\n    }\n}\n","import { PureComponent } from \"react\";\n\nexport class Div extends PureComponent {\n  render() {\n    return this.props.children;\n  }\n}\n","import { PureComponent } from \"react\";\nimport { cssTextAlign, cssTextStyle } from \"../utils/text\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\nimport React from \"react\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class EditableText extends PureComponent<{ data: MPComponentsProps }> {\n  _lastValue: any;\n\n  _onSubmitted(target: HTMLInputElement, value: string) {\n    if (this.props.data.attributes.onSubmitted) {\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"editable_text\",\n          message: {\n            event: \"onSubmitted\",\n            target: this.props.data.attributes.onSubmitted,\n            data: value,\n          },\n        })\n      );\n      target.blur();\n    }\n  }\n\n  _onChanged(target: HTMLInputElement, value: string) {\n    App.callbackChannel(\n      JSON.stringify({\n        type: \"editable_text\",\n        message: {\n          event: \"onChanged\",\n          target: this.props.data.attributes.onChanged,\n          data: value,\n        },\n      })\n    );\n  }\n\n  _keyboardType(value: string) {\n    if (value?.indexOf(\"TextInputType.number\") > 0) {\n      return \"number\";\n    }\n    return \"text\";\n  }\n\n  _keyboardPattern(value: string) {\n    if (value?.indexOf(\"TextInputType.number\") > 0) {\n      const signed = value.indexOf(\"signed: true\") > 0;\n      const decimal = value.indexOf(\"decimal: true\") > 0;\n      if (signed && decimal) {\n        return \"[0-9+-.]*\";\n      }\n      if (signed && !decimal) {\n        return \"[0-9+-]*\";\n      }\n      if (!signed && !decimal) {\n        return \"[0-9]*\";\n      }\n    }\n    return \"\";\n  }\n\n  render() {\n    if (this.props.data.attributes.maxLines > 1) {\n      return (\n        <textarea\n          style={{\n            ...cssConstraints(this.props.data.constraints),\n            ...cssTextStyle(this.props.data.attributes.style),\n            textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n            width: \"100%\",\n            height: \"100%\",\n            backgroundColor: \"transparent\",\n            border: \"none\",\n          }}\n          onInput={(event) => {\n            this._lastValue = (event.target as HTMLInputElement).value;\n            this._onChanged(\n              event.target as HTMLInputElement,\n              (event.target as HTMLInputElement).value\n            );\n          }}\n          onChange={(event) => {\n            this._lastValue = ((event.target as unknown) as HTMLInputElement).value;\n            this._onChanged(\n              (event.target as unknown) as HTMLInputElement,\n              ((event.target as unknown) as HTMLInputElement).value\n            );\n          }}\n          rows={this.props.data.attributes.maxLines}\n          readOnly={this.props.data.attributes.readOnly}\n        >\n          {this.props.data.attributes.value || this._lastValue}\n        </textarea>\n      );\n    }\n    return (\n      <input\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          ...cssTextStyle(this.props.data.attributes.style),\n          textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n          width: \"100%\",\n          height: \"100%\",\n          backgroundColor: \"transparent\",\n          border: \"none\",\n        }}\n        onKeyUp={(event) => {\n          if (event.key === \"Enter\" || event.keyCode === 13) {\n            this._onSubmitted(\n              event.target as HTMLInputElement,\n              (event.target as HTMLInputElement).value\n            );\n          }\n        }}\n        onInput={(event) => {\n          this._lastValue = (event.target as HTMLInputElement).value;\n          this._onChanged(\n            event.target as HTMLInputElement,\n            (event.target as HTMLInputElement).value\n          );\n        }}\n        onChange={(event) => {\n          this._lastValue = (event.target as HTMLInputElement).value;\n          this._onChanged(\n            event.target as HTMLInputElement,\n            (event.target as HTMLInputElement).value\n          );\n        }}\n        readOnly={this.props.data.attributes.readOnly}\n        type={\n          this.props.data.attributes.obscureText\n            ? \"password\"\n            : this._keyboardType(this.props.data.attributes.keyboardType)\n        }\n        pattern={this._keyboardPattern(this.props.data.attributes.keyboardType)}\n        value={this.props.data.attributes.value || this._lastValue}\n        autoFocus={this.props.data.attributes.autofocus}\n        autoCorrect={this.props.data.attributes.autoCorrect}\n        placeholder={this.props.data.attributes.placeholder}\n      ></input>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class TabBar extends PureComponent<{\n  data: MPComponentsProps;\n  nested?: boolean;\n}> {\n  static height = \"50px\";\n\n  onTapIndex(index: number) {\n    App.callbackChannel(\n      JSON.stringify({\n        type: \"tab_bar\",\n        message: {\n          event: \"onTapIndex\",\n          target: this.props.data.attributes.onTapIndex,\n          data: index,\n        },\n      })\n    );\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          backgroundColor: \"white\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-around\",\n          top: \"0px\",\n          left: \"0px\",\n          right: \"0px\",\n          height: \"50px\",\n        }}\n      >\n        {this.props.data.children.map((it, idx) => {\n          return (\n            <div\n              onClick={() => this.onTapIndex(idx)}\n              style={{\n                height: \"50px\",\n                flex: \"1\",\n                display: \"flex\",\n                flexDirection: \"column\",\n              }}\n            >\n              <div\n                style={{\n                  flex: \"1\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  fontSize: \"14px\",\n                  fontWeight:\n                    idx === this.props.data.attributes.selected\n                      ? \"bold\"\n                      : \"normal\",\n                }}\n              >\n                {it.attributes.text}\n              </div>\n              <div\n                style={{\n                  height: \"2px\",\n                  backgroundColor: \"rgb(31,128,240)\",\n                  visibility:\n                    idx === this.props.data.attributes.selected\n                      ? \"visible\"\n                      : \"hidden\",\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import { cssPadding } from \"../utils/geometry\";\n\nexport interface SliverGridDelegateWithFixedCrossAxisCount {\n  mainAxisSpacing: number;\n  crossAxisSpacing: number;\n  crossAxisCount: number;\n  childAspectRatio: number;\n}\n\nexport const renderSliverGridDelegateWithFixedCrossAxisCount = (\n  delegate: SliverGridDelegateWithFixedCrossAxisCount,\n  padding: string | undefined,\n  children: any[],\n  options?: { parentWidth: number | undefined } | undefined\n): any[] => {\n  const clientWidth = options?.parentWidth ?? document.body.clientWidth;\n\n  const gridViewPadding = padding ? cssPadding(padding) : {};\n  const paddingTop = gridViewPadding.paddingTop\n    ? parseInt(gridViewPadding.paddingTop)\n    : 0;\n  const paddingLeft = gridViewPadding.paddingLeft\n    ? parseInt(gridViewPadding.paddingLeft)\n    : 0;\n  const paddingRight = gridViewPadding.paddingRight\n    ? parseInt(gridViewPadding.paddingRight)\n    : 0;\n  const paddingBottom = gridViewPadding.paddingBottom\n    ? parseInt(gridViewPadding.paddingBottom)\n    : 0;\n\n  return children.map((it, idx) => {\n    const itemWidth =\n      (clientWidth -\n        paddingLeft -\n        paddingRight -\n        delegate.crossAxisSpacing * (delegate.crossAxisCount - 1)) /\n      delegate.crossAxisCount;\n    const marginLeft =\n      idx % delegate.crossAxisCount === 0 ? `${paddingLeft}px` : \"unset\";\n    const marginRight =\n      (idx + 1) % delegate.crossAxisCount === 0\n        ? \"unset\"\n        : `${delegate.crossAxisSpacing}px`;\n    let marginTop =\n      idx / delegate.crossAxisCount >= 1\n        ? `${delegate.mainAxisSpacing}px`\n        : \"unset\";\n    let marginBottom = \"unset\";\n    if (idx < delegate.crossAxisCount && paddingTop > 0) {\n      marginTop = paddingTop + \"px\";\n    }\n    if (idx === children.length - 1 && paddingBottom > 0) {\n      marginBottom = paddingBottom + \"px\";\n    }\n    return (\n      <div\n        key={`layout_${idx}`}\n        style={{\n          width: itemWidth + \"px\",\n          height: itemWidth / delegate.childAspectRatio + \"px\",\n          marginLeft,\n          marginRight,\n          marginTop,\n          marginBottom,\n        }}\n      >\n        <div style={{ display: \"flex\", minWidth: \"100%\", minHeight: \"100%\" }}>\n          {it}\n        </div>\n      </div>\n    );\n  });\n};\n\nexport interface SliverGridDelegateWithMaxCrossAxisExtent {\n  mainAxisSpacing: number;\n  crossAxisSpacing: number;\n  maxCrossAxisExtent: number;\n  childAspectRatio: number;\n}\n\nexport const renderSliverGridDelegateWithMaxCrossAxisExtent = (\n  delegate: SliverGridDelegateWithMaxCrossAxisExtent,\n  padding: string | undefined,\n  children: any[],\n  options?: { parentWidth: number | undefined } | undefined\n): any[] => {\n  const clientWidth = options?.parentWidth ?? document.body.clientWidth;\n\n  const gridViewPadding = padding ? cssPadding(padding) : {};\n  const paddingTop = gridViewPadding.paddingTop\n    ? parseInt(gridViewPadding.paddingTop)\n    : 0;\n  const paddingLeft = gridViewPadding.paddingLeft\n    ? parseInt(gridViewPadding.paddingLeft)\n    : 0;\n  const paddingRight = gridViewPadding.paddingRight\n    ? parseInt(gridViewPadding.paddingRight)\n    : 0;\n  const paddingBottom = gridViewPadding.paddingBottom\n    ? parseInt(gridViewPadding.paddingBottom)\n    : 0;\n\n  const crossAxisCount = Math.floor(\n    (clientWidth - paddingLeft - paddingRight) / delegate.maxCrossAxisExtent\n  );\n\n  return children.map((it, idx) => {\n    const itemWidth =\n      (clientWidth -\n        paddingLeft -\n        paddingRight -\n        delegate.crossAxisSpacing * (crossAxisCount - 1)) /\n      crossAxisCount;\n    const marginLeft =\n      idx % crossAxisCount === 0 ? `${paddingLeft}px` : \"unset\";\n    const marginRight =\n      (idx + 1) % crossAxisCount === 0\n        ? \"unset\"\n        : `${delegate.crossAxisSpacing}px`;\n    let marginTop =\n      idx / crossAxisCount >= 1 ? `${delegate.mainAxisSpacing}px` : \"unset\";\n    let marginBottom = \"unset\";\n    if (idx < crossAxisCount && paddingTop > 0) {\n      marginTop = paddingTop + \"px\";\n    }\n    if (idx === children.length - 1 && paddingBottom > 0) {\n      marginBottom = paddingBottom + \"px\";\n    }\n    return (\n      <div\n        key={`layout_${idx}`}\n        style={{\n          width: itemWidth + \"px\",\n          height: itemWidth / delegate.childAspectRatio + \"px\",\n          marginLeft,\n          marginRight,\n          marginTop,\n          marginBottom,\n        }}\n      >\n        <div style={{ display: \"flex\", minWidth: \"100%\", minHeight: \"100%\" }}>\n          {it}\n        </div>\n      </div>\n    );\n  });\n};\n\nexport interface SliverWaterfallDelegate {\n  mainAxisSpacing: number;\n  crossAxisSpacing: number;\n  crossAxisCount: number;\n}\n\nexport const renderSliverWaterfallDelegate = (\n  delegate: SliverWaterfallDelegate,\n  padding: string | undefined,\n  children: any[],\n  options?: { parentWidth: number | undefined } | undefined\n): any => {\n  const clientWidth = options?.parentWidth ?? document.body.clientWidth;\n  const gridViewPadding = padding ? cssPadding(padding) : {};\n  const paddingLeft = gridViewPadding.paddingLeft\n    ? parseInt(gridViewPadding.paddingLeft)\n    : 0;\n  const paddingRight = gridViewPadding.paddingRight\n    ? parseInt(gridViewPadding.paddingRight)\n    : 0;\n  const paddingBottom = gridViewPadding.paddingBottom\n    ? parseInt(gridViewPadding.paddingBottom)\n    : 0;\n\n  const itemWidth =\n    (clientWidth -\n      paddingLeft -\n      paddingRight -\n      delegate.crossAxisSpacing * (delegate.crossAxisCount - 1)) /\n    delegate.crossAxisCount;\n  let currentRowIndex = 0;\n  let layoutCache: any[] = [];\n  let maxY = 0.0;\n\n  const layouts = children.map((it, idx) => {\n    const itemHeight = it.props?.data?.attributes?.height ?? 0.0;\n    let currentY: number;\n\n    for (\n      let index = currentRowIndex;\n      index < delegate.crossAxisCount;\n      index++\n    ) {\n      const nextIndex = index + 1 >= delegate.crossAxisCount ? 0 : index + 1;\n      if (layoutCache[index] && layoutCache[nextIndex]) {\n        if (\n          layoutCache[nextIndex].y + layoutCache[nextIndex].height <\n          layoutCache[index].y + layoutCache[index].height\n        ) {\n          currentRowIndex = nextIndex;\n          break;\n        } else {\n          currentRowIndex = index;\n          break;\n        }\n      } else {\n        currentRowIndex = index;\n        break;\n      }\n    }\n\n    if (layoutCache[currentRowIndex]) {\n      currentY =\n        layoutCache[currentRowIndex].y + layoutCache[currentRowIndex].height;\n      if (idx >= delegate.crossAxisCount) {\n        currentY += delegate.mainAxisSpacing;\n      }\n    } else {\n      currentY = gridViewPadding?.paddingTop\n        ? parseInt(gridViewPadding.paddingTop)\n        : 0.0;\n    }\n    const size = {\n      x:\n        paddingLeft +\n        itemWidth * currentRowIndex +\n        currentRowIndex * delegate.crossAxisSpacing,\n      y: currentY,\n      width: itemWidth,\n      height: itemHeight,\n    };\n    layoutCache[currentRowIndex] = size;\n    currentRowIndex = (currentRowIndex + 1) % delegate.crossAxisCount;\n    maxY = Math.max(currentY + itemHeight, maxY);\n    return size;\n  });\n\n  return (\n    <div style={{ position: \"relative\", width: \"100%\", height: maxY + \"px\" }}>\n      {children.map((it, idx) => {\n        return (\n          <div\n            key={`layout_${idx}`}\n            style={{\n              position: \"absolute\",\n              left: layouts[idx].x + \"px\",\n              top: layouts[idx].y + \"px\",\n              width: layouts[idx].width + \"px\",\n              height: layouts[idx].height + paddingBottom + \"px\",\n            }}\n          >\n            <div\n              style={{ display: \"flex\", minWidth: \"100%\", minHeight: \"100%\" }}\n            >\n              {it}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport {\n  renderSliverGridDelegateWithFixedCrossAxisCount,\n  renderSliverGridDelegateWithMaxCrossAxisExtent,\n  renderSliverWaterfallDelegate,\n} from \"./grid_waterfall_layout\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class GridView extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (this.props.data.attributes.isRoot) {\n      if (this.props.data.attributes.scrollDirection === \"Axis.horizontal\") {\n        constraints.maxWidth = \"unset\";\n      } else {\n        constraints.maxHeight = \"unset\";\n      }\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          ...constraints,\n          overflowX:\n            this.props.data.attributes.scrollDirection === \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n          overflowY:\n            this.props.data.attributes.scrollDirection !== \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n        }}\n      >\n        {(() => {\n          if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithFixedCrossAxisCount\"\n          ) {\n            return renderSliverGridDelegateWithFixedCrossAxisCount(\n              this.props.data.attributes.gridDelegate,\n              this.props.data.attributes.padding,\n              this.props.children as any[],\n              {\n                parentWidth: this.props.data.attributes.width\n                  ? parseInt(this.props.data.attributes.width)\n                  : undefined,\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithMaxCrossAxisExtent\"\n          ) {\n            return renderSliverGridDelegateWithMaxCrossAxisExtent(\n              this.props.data.attributes.gridDelegate,\n              this.props.data.attributes.padding,\n              this.props.children as any[],\n              {\n                parentWidth: this.props.data.attributes.width\n                  ? parseInt(this.props.data.attributes.width)\n                  : undefined,\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverWaterfallDelegate\"\n          ) {\n            return renderSliverWaterfallDelegate(\n              this.props.data.attributes.gridDelegate,\n              this.props.data.attributes.padding,\n              this.props.children as any[],\n              {\n                parentWidth: this.props.data.attributes.width\n                  ? parseInt(this.props.data.attributes.width)\n                  : undefined,\n              }\n            );\n          } else {\n            return [];\n          }\n        })()}\n      </div>\n    );\n  }\n}\n\nexport class SliverWaterfallItem extends PureComponent<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return this.props.children;\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport {\n  renderSliverGridDelegateWithFixedCrossAxisCount,\n  renderSliverGridDelegateWithMaxCrossAxisExtent,\n  renderSliverWaterfallDelegate,\n} from \"./grid_waterfall_layout\";\nimport { MPComponentsProps } from \"../component\";\n// import { cssPadding } from \"../utils/geometry\";\n\nexport class SliverGrid extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          minWidth: \"100%\",\n        }}\n      >\n        {(() => {\n          // const gridViewPadding = this.props.data.attributes.padding\n          //   ? cssPadding(this.props.data.attributes.padding)\n          //   : {};\n          // const paddingLeft = gridViewPadding.paddingLeft\n          //   ? parseInt(gridViewPadding.paddingLeft)\n          //   : 0;\n          // const paddingRight = gridViewPadding.paddingRight\n          //   ? parseInt(gridViewPadding.paddingRight)\n          //   : 0;\n          if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithFixedCrossAxisCount\"\n          ) {\n            return renderSliverGridDelegateWithFixedCrossAxisCount(\n              this.props.data.attributes.gridDelegate,\n              undefined,\n              this.props.children as any[],\n              {\n                parentWidth: parseInt(this.props.data.attributes.width),\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithMaxCrossAxisExtent\"\n          ) {\n            return renderSliverGridDelegateWithMaxCrossAxisExtent(\n              this.props.data.attributes.gridDelegate,\n              undefined,\n              this.props.children as any[],\n              {\n                parentWidth: parseInt(this.props.data.attributes.width),\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverWaterfallDelegate\"\n          ) {\n            return renderSliverWaterfallDelegate(\n              this.props.data.attributes.gridDelegate,\n              undefined,\n              this.props.children as any[],\n              {\n                parentWidth: parseInt(this.props.data.attributes.width),\n              }\n            );\n          } else {\n            return [];\n          }\n        })()}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssWidth } from \"../utils/geometry\";\n\nexport class Wrap extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          flexDirection: (() => {\n            switch (this.props.data.attributes.direction) {\n              case \"Axis.vertical\":\n                return \"column\";\n              case \"Axis.horizontal\":\n                return \"row\";\n              default:\n                return \"column\";\n            }\n          })(),\n          justifyContent: (() => {\n            switch (this.props.data.attributes.mainAxisAlignment) {\n              case \"MainAxisAlignment.start\":\n                return \"flex-start\";\n              case \"MainAxisAlignment.center\":\n                return \"center\";\n              case \"MainAxisAlignment.end\":\n                return \"flex-end\";\n              case \"MainAxisAlignment.spaceBetween\":\n                return \"space-between\";\n              case \"MainAxisAlignment.spaceAround\":\n                return \"space-around\";\n              case \"MainAxisAlignment.spaceEvenly\":\n                return \"space-evenly\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          alignItems: (() => {\n            switch (this.props.data.attributes.crossAxisAlignment) {\n              case \"CrossAxisAlignment.start\":\n                return \"flex-start\";\n              case \"CrossAxisAlignment.center\":\n                return \"center\";\n              case \"CrossAxisAlignment.end\":\n                return \"flex-end\";\n              case \"CrossAxisAlignment.stretch\":\n                return \"stretch\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          ...constraints,\n        }}\n      >\n        {(this.props.children as any[])?.map((it: any, index: number) => {\n          return (\n            <div\n              key={`item_${index}`}\n              style={{\n                marginRight: cssWidth(this.props.data.attributes.spacing),\n                marginBottom: cssWidth(this.props.data.attributes.runSpacing),\n              }}\n            >\n              {it}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class SliverPersistentHeader extends PureComponent<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return (\n      <div\n        style={{\n          position: \"sticky\",\n          top: \"-1px\",\n          zIndex: 1,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class MPWebView extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <iframe\n        title=\"mp_web_view\"\n        src={this.props.data.attributes.url}\n        style={{\n          border: \"none\",\n          ...cssConstraints(this.props.data.constraints),\n        }}\n      ></iframe>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { MPCore } from \"../mpcore\";\nimport { cssColor } from \"../utils/color\";\nimport { cssWidth } from \"../utils/geometry\";\n\nexport class MPScaffold extends PureComponent<{ data: MPComponentsProps }> {\n  componentDidMount() {\n    this.setupDocumentTitle();\n    this.setupDocumentMetaData();\n  }\n\n  componentDidUpdate() {\n    this.setupDocumentTitle();\n    this.setupDocumentMetaData();\n  }\n\n  setupDocumentTitle() {\n    if (this.props.data.attributes?.name) {\n      document.title = this.props.data.attributes.name;\n    } else {\n      document.title = \"\";\n    }\n  }\n\n  setupDocumentMetaData() {\n    let metaElements: { [key: string]: HTMLMetaElement } = {};\n    for (let index = 0; index < document.head.children.length; index++) {\n      const element = document.head.children[index];\n      if (element.tagName === \"META\") {\n        const name = element.attributes.getNamedItem(\"name\")?.value;\n        if (!name || name === \"viewport\" || name === \"theme-color\") {\n          continue;\n        }\n        metaElements[name] = element as HTMLMetaElement;\n        (element as HTMLMetaElement).content = \"\";\n      }\n    }\n    if (this.props.data.attributes?.metaData) {\n      for (const key in this.props.data.attributes?.metaData) {\n        const value = this.props.data.attributes?.metaData[key];\n        const element = metaElements[key] ?? document.createElement(\"meta\");\n        element.name = key;\n        element.content = value;\n        document.head.appendChild(element);\n      }\n    }\n  }\n\n  render() {\n    const appBarHeight = this.props.data.attributes.appBarHeight;\n    return (\n      <div\n        id=\"mp_scaffold\"\n        style={{\n          paddingTop: appBarHeight + \"px\",\n          height:\n            this.props.data.attributes.isListBody === true\n              ? \"unset\"\n              : `calc(100% - ${appBarHeight}px)`,\n          backgroundColor: this.props.data.attributes.backgroundColor\n            ? cssColor(this.props.data.attributes.backgroundColor)\n            : \"unset\",\n          overflow:\n            this.props.data.attributes.isListBody === true ? \"unset\" : \"hidden\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        {this.props.data.attributes.appBar ? (\n          <div\n            style={{\n              position: \"fixed\",\n              top: \"0px\",\n              left: \"0px\",\n              right: \"0px\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              zIndex: 2,\n            }}\n          >\n            {MPCore.render(this.props.data.attributes.appBar)}\n          </div>\n        ) : null}\n        {this.props.data.attributes.header\n          ? MPCore.render(this.props.data.attributes.header)\n          : null}\n        {this.props.data.attributes.tabBar ? (\n          <div\n            style={{\n              position:\n                this.props.data.attributes.isListBody === true\n                  ? \"sticky\"\n                  : \"unset\",\n              top: -1 + appBarHeight + \"px\",\n              zIndex: 1,\n            }}\n          >\n            {MPCore.render(this.props.data.attributes.tabBar)}\n          </div>\n        ) : null}\n        {MPCore.render(this.props.data.attributes.body)}\n        {this.props.data.attributes?.bottomBar ? (\n          <div\n            style={{\n              position: \"sticky\",\n              bottom: \"-1px\",\n              zIndex: 2,\n            }}\n          >\n            {MPCore.render(this.props.data.attributes.bottomBar)}\n          </div>\n        ) : null}\n        {this.props.data.attributes?.floatingBody ? (\n          <FloatingBody data={this.props.data.attributes?.floatingBody} />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport class FloatingBody extends PureComponent<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    let positioned = this.props.data;\n    if (!positioned || positioned.name !== \"positioned\") {\n      return null;\n    }\n    return (\n      <div\n        style={{\n          position: \"fixed\",\n          left: cssWidth(positioned.attributes.left),\n          top: cssWidth(positioned.attributes.top),\n          right: cssWidth(positioned.attributes.right),\n          bottom: cssWidth(positioned.attributes.bottom),\n          width: cssWidth(positioned.attributes.width),\n          height: cssWidth(positioned.attributes.height),\n          backgroundColor: cssColor(this.props.data.attributes.backgroundColor),\n          zIndex: 2,\n        }}\n      >\n        {this.props.data.children?.map((it, idx) =>\n          MPCore.render(it, `item_${idx}`)\n        )}\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport Swiper from \"swiper\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class MPPageView extends PureComponent<{ data: MPComponentsProps }> {\n  ref = `swiper-container-${Math.random().toString().replace(\".\", \"\")}`;\n  swiperInstance: Swiper | undefined;\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.swiperInstance = new Swiper(\".\" + this.ref, {\n        direction:\n          this.props.data.attributes.scrollDirection === \"Axis.vertical\"\n            ? \"vertical\"\n            : \"horizontal\",\n        loop: this.props.data.attributes.loop,\n      });\n    }, 0);\n  }\n\n  componentDidUpdate() {\n    this.swiperInstance?.changeDirection(\n      this.props.data.attributes.scrollDirection === \"Axis.vertical\"\n        ? \"vertical\"\n        : \"horizontal\"\n    );\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          overflow: \"hidden\",\n        }}\n        className={this.ref}\n      >\n        <div className=\"swiper-wrapper\">\n          {(this.props.children as any[]).map((it, idx) => {\n            return (\n              <div key={`swiper-slide-${idx}`} className=\"swiper-slide\">\n                {it}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n","import { PureComponent } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class MPVideoView extends PureComponent<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <video\n        src={this.props.data.attributes.url}\n        controls={this.props.data.attributes.controls}\n        autoPlay={this.props.data.attributes.autoplay}\n        loop={this.props.data.attributes.loop}\n        muted={this.props.data.attributes.muted}\n        poster={this.props.data.attributes.poster}\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n        }}\n      ></video>\n    );\n  }\n}\n","import { ComponentType } from \"react\";\nimport { MPWebView } from \"./web_view\";\nimport { MPScaffold } from \"./scaffold\";\nimport { MPPageView } from \"./page_view\";\nimport { MPVideoView } from \"./video_view\";\n\nexport class MPKit {\n  static components: { [key: string]: ComponentType<any> } = {\n    mp_web_view: MPWebView,\n    mp_scaffold: MPScaffold,\n    mp_page_view: MPPageView,\n    mp_video_view: MPVideoView,\n  };\n}\n","import { PureComponent } from \"react\";\nimport App from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class MPDrawable {\n  static decodedDrawables: { [key: string]: HTMLImageElement } = {};\n\n  static async decodeDrawable(params: any) {\n    try {\n      if (params.type === \"networkImage\") {\n        const result = await this.decodeNetworkImage(params.url, params.target);\n        App.callbackChannel(\n          JSON.stringify({\n            type: \"decode_drawable\",\n            message: {\n              event: \"onDecode\",\n              target: params.target,\n              width: result.width,\n              height: result.height,\n            },\n          })\n        );\n      } else if (params.type === \"memoryImage\") {\n        const result = await this.decodeMemoryImage(params.data, params.target);\n        App.callbackChannel(\n          JSON.stringify({\n            type: \"decode_drawable\",\n            message: {\n              event: \"onDecode\",\n              target: params.target,\n              width: result.width,\n              height: result.height,\n            },\n          })\n        );\n      } else {\n        throw new Error(\"Unknown drawable type.\");\n      }\n    } catch (error) {\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"decode_drawable\",\n          message: {\n            event: \"onError\",\n            target: params.target,\n            error: error?.toString(),\n          },\n        })\n      );\n    }\n  }\n\n  static async decodeNetworkImage(\n    url: string,\n    hashCode: number\n  ): Promise<{ width: number; height: number }> {\n    return new Promise((res, rej) => {\n      const img = document.createElement(\"img\");\n      img.onload = function () {\n        MPDrawable.decodedDrawables[hashCode] = img;\n        res({ width: img.width, height: img.height });\n      };\n      img.onerror = function () {\n        rej(\"\");\n      };\n      img.src = url;\n    });\n  }\n\n  static async decodeMemoryImage(\n    data: string,\n    hashCode: number\n  ): Promise<{ width: number; height: number }> {\n    return new Promise((res, rej) => {\n      const img = document.createElement(\"img\");\n      img.onload = function () {\n        MPDrawable.decodedDrawables[hashCode] = img;\n        res({ width: img.width, height: img.height });\n      };\n      img.onerror = function () {\n        rej(\"\");\n      };\n      img.src = `data:text/plain;base64,${data}`;\n    });\n  }\n}\n\nexport class CustomPaint extends PureComponent<{ data: MPComponentsProps }> {\n  setCanvasRef: any;\n\n  theCanvas: HTMLCanvasElement | undefined;\n\n  constructor(props: any) {\n    super(props);\n    this.setCanvasRef = (element: any) => {\n      this.theCanvas = element;\n      this.draw();\n    };\n  }\n\n  componentDidUpdate() {\n    this.draw();\n  }\n\n  draw() {\n    if (this.theCanvas) {\n      const ctx = this.theCanvas.getContext(\"2d\");\n      if (!ctx) return;\n      ctx.save();\n      (this.props.data.attributes.commands as any[]).forEach((cmd) => {\n        if (cmd.action === \"drawRect\") {\n          this.drawRect(ctx, cmd);\n        } else if (cmd.action === \"drawPath\") {\n          this.drawPath(ctx, cmd);\n        } else if (cmd.action === \"drawDRRect\") {\n          this.drawDRRect(ctx, cmd);\n        } else if (cmd.action === \"clipPath\") {\n          this.drawPath(ctx, cmd);\n        } else if (cmd.action === \"drawColor\") {\n          this.drawColor(ctx, cmd);\n        } else if (cmd.action === \"drawImage\") {\n          this.drawImage(ctx, cmd);\n        } else if (cmd.action === \"drawImageRect\") {\n          this.drawImageRect(ctx, cmd);\n        } else if (cmd.action === \"restore\") {\n          ctx.restore();\n        } else if (cmd.action === \"rotate\") {\n          ctx.rotate(cmd.radians);\n        } else if (cmd.action === \"save\") {\n          ctx.save();\n        } else if (cmd.action === \"scale\") {\n          ctx.scale(cmd.sx, cmd.sy);\n        } else if (cmd.action === \"skew\") {\n          ctx.transform(1.0, cmd.sy, cmd.sx, 1.0, 0.0, 0.0);\n        } else if (cmd.action === \"transform\") {\n          ctx.transform(cmd.a, cmd.b, cmd.c, cmd.d, cmd.tx, cmd.ty);\n        } else if (cmd.action === \"translate\") {\n          ctx.translate(cmd.dx, cmd.dy);\n        }\n      });\n      ctx.restore();\n    }\n  }\n\n  drawRect(ctx: CanvasRenderingContext2D, params: any) {\n    this.setPaint(ctx, params.paint);\n    if (params.paint.style === \"PaintingStyle.fill\") {\n      ctx.fillRect(params.x, params.y, params.width, params.height);\n    } else {\n      ctx.strokeRect(params.x, params.y, params.width, params.height);\n    }\n  }\n\n  drawPath(ctx: CanvasRenderingContext2D, params: any) {\n    this.setPaint(ctx, params.paint);\n    this.drawRealPath(ctx, params.path);\n    if (params.action === \"clipPath\") {\n      ctx.clip();\n    } else if (params.paint.style === \"PaintingStyle.fill\") {\n      ctx.fill();\n    } else {\n      ctx.stroke();\n    }\n  }\n\n  drawDRRect(ctx: CanvasRenderingContext2D, params: any) {\n    const offscreenCanvas = document.createElement(\"canvas\");\n    offscreenCanvas.width = ctx.canvas.width;\n    offscreenCanvas.height = ctx.canvas.height;\n    const offscreenContext = offscreenCanvas.getContext(\"2d\")!;\n    this.setPaint(offscreenContext, params.paint);\n    this.drawRealPath(offscreenContext, params.outer);\n    if (params.paint.style === \"PaintingStyle.fill\") {\n      offscreenContext.fill();\n    } else {\n      offscreenContext.stroke();\n    }\n    offscreenContext.save();\n    offscreenContext.fillStyle = \"white\";\n    offscreenContext.globalCompositeOperation = \"xor\";\n    this.drawRealPath(offscreenContext, params.inner);\n    offscreenContext.fill();\n    offscreenContext.restore();\n    ctx.drawImage(offscreenCanvas, 0, 0);\n  }\n\n  drawRealPath(ctx: CanvasRenderingContext2D, path: any) {\n    ctx.beginPath();\n    (path.commands as any[]).forEach((it) => {\n      if (it.action === \"moveTo\") {\n        ctx.moveTo(it.x, it.y);\n      } else if (it.action === \"lineTo\") {\n        ctx.lineTo(it.x, it.y);\n      } else if (it.action === \"quadraticBezierTo\") {\n        ctx.quadraticCurveTo(it.x1, it.y1, it.x2, it.y2);\n      } else if (it.action === \"cubicTo\") {\n        ctx.bezierCurveTo(it.x1, it.y1, it.x2, it.y2, it.x3, it.y3);\n      } else if (it.action === \"arcTo\") {\n        ctx.ellipse(\n          it.x,\n          it.y,\n          it.width / 2.0,\n          it.height / 2.0,\n          0,\n          it.startAngle,\n          it.startAngle + it.sweepAngle,\n          it.sweepAngle < 0.0\n        );\n      } else if (it.action === \"arcToPoint\") {\n        ctx.arcTo(\n          it.arcControlX,\n          it.arcControlY,\n          it.arcEndX,\n          it.arcEndY,\n          it.radiusX\n        );\n      } else if (it.action === \"close\") {\n        ctx.closePath();\n      }\n    });\n  }\n\n  drawColor(ctx: CanvasRenderingContext2D, params: any) {\n    if (params.blendMode === \"BlendMode.clear\") {\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    } else {\n      ctx.fillStyle = cssColor(params.color);\n      ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    }\n  }\n\n  drawImage(ctx: CanvasRenderingContext2D, params: any) {\n    this.setPaint(ctx, params.paint);\n    const drawable = MPDrawable.decodedDrawables[params.drawable];\n    if (drawable) {\n      ctx.drawImage(drawable, params.dx, params.dy);\n    }\n  }\n\n  drawImageRect(ctx: CanvasRenderingContext2D, params: any) {\n    this.setPaint(ctx, params.paint);\n    const drawable = MPDrawable.decodedDrawables[params.drawable];\n    if (drawable) {\n      ctx.drawImage(\n        drawable,\n        params.srcX,\n        params.srcY,\n        params.srcW,\n        params.srcH,\n        params.dstX,\n        params.dstY,\n        params.dstW,\n        params.dstH\n      );\n    }\n  }\n\n  setPaint(ctx: CanvasRenderingContext2D, paint: any) {\n    if (!paint) return;\n    ctx.lineWidth = paint.strokeWidth;\n    ctx.miterLimit = paint.strokeMiterLimit;\n    ctx.lineCap = paint.strokeCap.replace(\"StrokeCap.\", \"\");\n    ctx.lineJoin = paint.strokeCap.replace(\"StrokeJoin.\", \"\");\n    if (paint.style === \"PaintingStyle.fill\") {\n      ctx.fillStyle = cssColor(paint.color);\n      ctx.strokeStyle = \"transparent\";\n    } else {\n      ctx.fillStyle = \"transparent\";\n      ctx.strokeStyle = cssColor(paint.color);\n    }\n    ctx.globalAlpha = paint.alpha ?? 1.0;\n  }\n\n  render() {\n    return (\n      <canvas\n        ref={this.setCanvasRef}\n        width={this.props.data.attributes.width}\n        height={this.props.data.attributes.height}\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n        }}\n      ></canvas>\n    );\n  }\n}\n","import { Align } from \"./components/align\";\nimport { ColoredBox } from \"./components/colored_box\";\nimport { ConstrainedBox } from \"./components/constrained_box\";\nimport { Flex } from \"./components/flex\";\nimport { RichText } from \"./components/rich_text\";\nimport { Padding } from \"./components/padding\";\nimport { ListView } from \"./components/list_view\";\nimport { SizedBox } from \"./components/sized_box\";\nimport { DecoratedBox } from \"./components/decorated_box\";\nimport { Divider } from \"./components/divider\";\nimport { Image } from \"./components/image\";\nimport { ClipOval } from \"./components/clip_oval\";\nimport { ClipRRect } from \"./components/clip_r_rect\";\nimport { Opacity } from \"./components/opacity\";\nimport { Flexible } from \"./components/flexible\";\nimport { GestureDetector } from \"./components/gesture_detector\";\nimport { Stack } from \"./components/stack\";\nimport { Positioned } from \"./components/positioned\";\nimport { Visibility } from \"./components/visibility\";\nimport { Offstage } from \"./components/offstage\";\nimport { Transform } from \"./components/transform\";\nimport { AbsorbPointer } from \"./components/absorb_pointer\";\nimport { IgnorePointer } from \"./components/ignore_pointer\";\nimport { Icon } from \"./components/icon\";\nimport { CustomScrollView } from \"./components/custom_scroll_view\";\nimport { SliverList } from \"./components/sliver_list\";\nimport { Div } from \"./components/div\";\nimport { EditableText } from \"./components/editable_text\";\nimport { ComponentType, createElement, ReactElement } from \"react\";\nimport { MPComponentsProps } from \"./component\";\nimport { MPPlugin } from \"./plugin\";\nimport { TabBar } from \"./components/tab_bar\";\nimport { GridView, SliverWaterfallItem } from \"./components/grid_view\";\nimport { SliverGrid } from \"./components/sliver_grid\";\nimport { Wrap } from \"./components/wrap\";\nimport { SliverPersistentHeader } from \"./components/sliver_persistent_header\";\nimport { MPKit } from \"./mpkit/mpkit\";\nimport { CustomPaint } from \"./components/custom_paint\";\n\nexport class MPCore {\n  static components: { [key: string]: ComponentType<any> } = {\n    colored_box: ColoredBox,\n    align: Align,\n    constrained_box: ConstrainedBox,\n    rich_text: RichText,\n    flex: Flex,\n    padding: Padding,\n    list_view: ListView,\n    sized_box: SizedBox,\n    decorated_box: DecoratedBox,\n    divider: Divider,\n    image: Image,\n    clip_oval: ClipOval,\n    clip_r_rect: ClipRRect,\n    opacity: Opacity,\n    flexible: Flexible,\n    gesture_detector: GestureDetector,\n    stack: Stack,\n    positioned: Positioned,\n    visibility: Visibility,\n    offstage: Offstage,\n    transform: Transform,\n    absorb_pointer: AbsorbPointer,\n    ignore_pointer: IgnorePointer,\n    icon: Icon,\n    custom_scroll_view: CustomScrollView,\n    sliver_list: SliverList,\n    sliver_grid: SliverGrid,\n    div: Div,\n    editable_text: EditableText,\n    tab_bar: TabBar,\n    grid_view: GridView,\n    wrap: Wrap,\n    sliver_waterfall_item: SliverWaterfallItem,\n    sliver_persistent_header: SliverPersistentHeader,\n    custom_paint: CustomPaint,\n    ...MPKit.components,\n  };\n\n  static plugins: MPPlugin[] = [];\n\n  static registerPlugin(plugin: MPPlugin) {\n    for (const key in plugin.components) {\n      this.components[key] = plugin.components[key];\n    }\n    this.plugins.push(plugin);\n  }\n\n  static render(data: MPComponentsProps, key?: string): ReactElement | null {\n    if (!data || !this.components[data.name]) return null;\n    return createElement(\n      this.components[data.name],\n      { key, data: data } as any,\n      data.children?.map((it: any, index: number) =>\n        this.render(it, `item_${index}`)\n      )\n    );\n  }\n}\n","import App from \"../../app\";\n\nexport class WebDialogs {\n  static receivedWebDialogsMessage(message: any) {\n    if (message[\"params\"][\"dialogType\"] === \"alert\") {\n      window.alert(message[\"params\"][\"message\"]);\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"action\",\n          message: { event: \"callback\", id: message[\"id\"] },\n        })\n      );\n    } else if (message[\"params\"][\"dialogType\"] === \"confirm\") {\n      const result = window.confirm(message[\"params\"][\"message\"]);\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"action\",\n          message: { event: \"callback\", id: message[\"id\"], data: result },\n        })\n      );\n    } else if (message[\"params\"][\"dialogType\"] === \"prompt\") {\n      const result = window.prompt(\n        message[\"params\"][\"message\"],\n        message[\"params\"][\"defaultValue\"]\n      );\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"action\",\n          message: { event: \"callback\", id: message[\"id\"], data: result },\n        })\n      );\n    }\n  }\n}\n","import { PureComponent } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { MPCore } from \"../mpcore\";\nimport { App } from \"../../app\";\n\nexport class Overlay extends PureComponent<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return (\n      <div\n        style={{\n          position: \"fixed\",\n          top: \"0px\",\n          left: \"0px\",\n          right: \"0px\",\n          bottom: \"0px\",\n          zIndex: 3,\n          backgroundColor: cssColor(this.props.data.attributes.backgroundColor),\n        }}\n        onClick={(e: any) => {\n          App.callbackChannel(\n            JSON.stringify({\n              type: \"overlay\",\n              message: {\n                event: \"onBackgroundTap\",\n                target: this.props.data.attributes.onBackgroundTap,\n              },\n            })\n          );\n          e.stopPropagation();\n        }}\n      >\n        {MPCore.render(this.props.data.children?.[0])}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { App } from \"../app\";\n\nexport class ScrollListener extends React.Component {\n  _scrollListener: any;\n  _scrollToBottomLastCall: any;\n\n  componentDidMount() {\n    if (window) {\n      this._scrollListener = () => {\n        if (\n          window.pageYOffset + window.innerHeight >=\n          window.document.body.scrollHeight - 200\n        ) {\n          if (this._scrollToBottomLastCall > new Date().getTime()) {\n            return;\n          }\n          this._scrollToBottomLastCall = new Date().getTime() + 2000;\n          App.callbackChannel(\n            JSON.stringify({\n              type: \"scroller\",\n              message: {\n                event: \"onScrollToBottom\",\n              },\n            })\n          );\n        }\n      };\n      window.document.addEventListener(\"scroll\", this._scrollListener);\n    }\n  }\n\n  componentWillUnmount() {\n    window.document.removeEventListener(\"scroll\", this._scrollListener);\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React from \"react\";\nimport { MPComponentsProps } from \"./component\";\n\nexport class ScrollBehavior extends React.Component<{\n  displayingDialog: boolean;\n  scaffold: MPComponentsProps;\n}> {\n  componentDidMount() {\n    this.setupBodyScrollBehavior();\n  }\n\n  componentDidUpdate() {\n    this.setupBodyScrollBehavior();\n  }\n\n  setupBodyScrollBehavior() {\n    if (this.props.displayingDialog) {\n      document.body.style.setProperty(\"overflow\", \"hidden\");\n    } else if (this.props.scaffold?.attributes?.isListBody === true) {\n      document.body.style.setProperty(\"overflow\", \"unset\");\n    } else {\n      document.body.style.setProperty(\"overflow\", \"hidden\");\n    }\n  }\n\n  render() {\n    return <div></div>;\n  }\n}\n","import React from \"react\";\nimport { App } from \"../app\";\nimport { MPComponentsProps } from \"./component\";\nimport { MPCore } from \"./mpcore\";\n\nexport class TextMeasurer extends React.Component<\n  {\n    scaffold: MPComponentsProps;\n    overlays: MPComponentsProps[];\n  },\n  { targetTexts: MPComponentsProps[] }\n> {\n  static scanRichText(data: MPComponentsProps, result: MPComponentsProps[]) {\n    if (!data) return;\n    if (data.name === \"rich_text\" && data.attributes.measureId) {\n      result.push(data);\n    } else {\n      data.children?.forEach((it) => {\n        this.scanRichText(it, result);\n      });\n    }\n  }\n\n  state: { targetTexts: MPComponentsProps[] } = { targetTexts: [] };\n\n  componentDidMount() {\n    this.doScan(this.props);\n  }\n\n  componentWillReceiveProps(newProps: any) {\n    this.doScan(newProps);\n  }\n\n  componentDidUpdate() {\n    if (!this.state.targetTexts.length) return;\n    App.callbackChannel(\n      JSON.stringify({\n        type: \"rich_text\",\n        message: {\n          event: \"onMeasured\",\n          data: this.state.targetTexts.map((it) => {\n            const bounds = document\n              .getElementById(`text_measurer_${it.attributes.measureId}`)\n              ?.getBoundingClientRect();\n            if (!bounds) {\n              return {\n                measureId: it.attributes.measureId,\n                size: { width: 0, height: 0 },\n              };\n            } else {\n              return {\n                measureId: it.attributes.measureId,\n                size: { width: bounds.width, height: bounds.height },\n              };\n            }\n          }),\n        },\n      })\n    );\n  }\n\n  doScan(props: {\n    scaffold: MPComponentsProps;\n    overlays: MPComponentsProps[];\n  }) {\n    let result: MPComponentsProps[] = [];\n    let scanner = (scaffold: MPComponentsProps) => {\n      if (scaffold.children) {\n        for (let index = 0; index < scaffold.children.length; index++) {\n          TextMeasurer.scanRichText(scaffold.children[index], result);\n        }\n      }\n      TextMeasurer.scanRichText(scaffold.attributes?.body, result);\n      TextMeasurer.scanRichText(scaffold.attributes?.tabBar, result);\n      TextMeasurer.scanRichText(scaffold.attributes?.header, result);\n      TextMeasurer.scanRichText(scaffold.attributes?.appBar, result);\n      TextMeasurer.scanRichText(scaffold.attributes?.floatingBody, result);\n      TextMeasurer.scanRichText(scaffold.attributes?.bottomBar, result);\n    };\n    if (props?.scaffold) {\n      scanner(props.scaffold);\n    }\n    if (props?.overlays) {\n      for (let index = 0; index < props?.overlays.length; index++) {\n        const element = props?.overlays[index];\n        if (element?.children?.[0]) {\n          scanner(element);\n        }\n      }\n    }\n    this.setState({\n      targetTexts: result,\n    });\n  }\n\n  render() {\n    if (!this.state.targetTexts.length) {\n      return null;\n    }\n    return (\n      <div\n        style={{\n          display: \"contents\",\n        }}\n      >\n        {this.state.targetTexts.map((it) => {\n          if (it.constraints) {\n            it.constraints.measuring = true;\n          }\n          return (\n            <div\n              key={`text_measurer_${it.attributes.measureId}_${it.constraints?.maxWidth}_${it.constraints?.maxHeight}`}\n              id={`text_measurer_${it.attributes.measureId}`}\n              style={{\n                position: \"absolute\",\n                left: \"0px\",\n                top: \"0px\",\n                opacity: 0,\n                zIndex: -9999,\n                pointerEvents: \"none\",\n              }}\n            >\n              {MPCore.render(it)}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","interface MPJSMessage {\n  event: string;\n  requestId: string;\n  params: any;\n}\n\ninterface MPJSCallMethodParams {\n  objectHandler: string;\n  callChain: string[];\n  method: string;\n  args: any[];\n}\n\ninterface MPJSGetValueParams {\n  objectHandler: string;\n  callChain: string[];\n  key: string;\n}\n\ninterface MPJSSetValueParams {\n  objectHandler: string;\n  callChain: string[];\n  key: string;\n  value: any;\n}\n\nexport class MPJS {\n  static instance = new MPJS();\n  objectRefs: { [key: string]: any } = {};\n\n  handleMessage(\n    message: MPJSMessage,\n    callback: (result: any) => void,\n    funcCallback: (funcId: string, args: any[]) => void\n  ) {\n    if (message.event === \"callMethod\") {\n      this.callMethod(message, callback, funcCallback);\n    } else if (message.event === \"getValue\") {\n      this.getValue(message, callback);\n    } else if (message.event === \"setValue\") {\n      this.setValue(message, callback);\n    }\n  }\n\n  callMethod(\n    message: MPJSMessage,\n    callback: (result: any) => void,\n    funcCallback: (funcId: string, args: any[]) => void\n  ) {\n    const params = message.params as MPJSCallMethodParams;\n    const callingObject = this.getCallee(\n      params.objectHandler,\n      params.callChain\n    );\n    if (\n      typeof callingObject === \"object\" ||\n      typeof callingObject === \"function\"\n    ) {\n      try {\n        const result = (callingObject[params.method] as Function).apply(\n          callingObject,\n          params.args?.map((it) => this.wrapArgument(it, funcCallback))\n        );\n        callback(this.wrapResult(result));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  }\n\n  getValue(message: MPJSMessage, callback: (result: any) => void) {\n    const params = message.params as MPJSGetValueParams;\n    const callingObject = this.getCallee(\n      params.objectHandler,\n      params.callChain\n    );\n    callback(this.wrapResult(callingObject[params.key]));\n  }\n\n  setValue(message: MPJSMessage, callback: (result: any) => void) {\n    const params = message.params as MPJSSetValueParams;\n    const callingObject = this.getCallee(\n      params.objectHandler,\n      params.callChain\n    );\n    callingObject[params.key] = params.value;\n    callback(undefined);\n  }\n\n  getCallee(objectHandler: string, callChain: string[]): any {\n    const rootObject = this.objectRefs[objectHandler] ?? window;\n    let currentObject: any = rootObject;\n    for (let index = 0; index < callChain.length; index++) {\n      const key = callChain[index] as any;\n      currentObject = currentObject[key];\n      if (currentObject === undefined || currentObject === null) {\n        break;\n      }\n    }\n    return currentObject;\n  }\n\n  wrapArgument(arg: any, funcCallback: (funcId: string, args: any[]) => void): any {\n    if (typeof arg === \"string\" && arg.startsWith(\"func:\")) {\n      const funcId = arg;\n      const self = this;\n      return function () {\n        let cbArgs = [];\n        for (let index = 0; index < arguments.length; index++) {\n          const element = arguments[index];\n          cbArgs.push(self.wrapResult(element));\n        }\n        funcCallback(funcId, cbArgs);\n      };\n    } else if (typeof arg === \"string\" && arg.startsWith(\"obj:\")) {\n      return this.objectRefs[arg.replace(\"obj:\", \"\")];\n    } else if (typeof arg === \"object\" && arg instanceof Array) {\n      return arg.map((it) => this.wrapArgument(it, funcCallback));\n    } else if (typeof arg === \"object\") {\n      let newArgs: any = {};\n      for (const key in arg) {\n        newArgs[key] = this.wrapArgument(arg[key], funcCallback);\n      }\n      return newArgs;\n    } else {\n      return arg;\n    }\n  }\n\n  wrapResult(result: any) {\n    if (\n      typeof result === \"string\" ||\n      typeof result === \"number\" ||\n      typeof result === \"boolean\" ||\n      typeof result === \"bigint\"\n    ) {\n      return result;\n    } else {\n      const objectHandler = Math.random().toString();\n      this.objectRefs[objectHandler] = result;\n      return { objectHandler: objectHandler };\n    }\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { MPCore } from \"./mpcore/mpcore\";\nimport { WebDialogs } from \"./mpcore/components/web_dialogs\";\nimport { Overlay } from \"./mpcore/components/overlay\";\nimport { ScrollListener } from \"./mpcore/scroll_listener\";\nimport { ScrollBehavior } from \"./mpcore/scroll_behavior\";\nimport { TextMeasurer } from \"./mpcore/text_measurer\";\nimport { MPComponentsProps, MPDocumentProps } from \"./mpcore/component\";\nimport { MPJS } from \"./mpcore/mpjs/mpjs\";\nimport { MPDrawable } from \"./mpcore/components/custom_paint\";\n\nexport let flutterBase = \"./\";\nexport const flutterFonts = [\n  { name: \"MaterialIcons\", url: \"MaterialIcons-Regular.otf\" },\n];\n\nexport class App extends Component<\n  any,\n  { isConnecting: boolean; isDialogDisplaying: boolean; data: MPDocumentProps }\n> {\n  static callbackChannel: (message: string) => void = () => {};\n\n  state: any = {};\n\n  lastFrameDataHashMap: { [key: number]: MPComponentsProps } = {};\n\n  createHashMap(obj: any) {\n    if (obj && obj.hashCode && typeof obj.hashCode === \"number\") {\n      this.lastFrameDataHashMap[obj.hashCode] = obj;\n    }\n    if (obj) {\n      for (const key in obj) {\n        if (typeof key === \"string\" || typeof key === \"number\") {\n          const value = obj[key];\n          if (typeof value === \"object\") {\n            this.createHashMap(value);\n          }\n        }\n      }\n    }\n  }\n\n  composeSameMap(data: any) {\n    if (typeof data !== \"object\" || data === null || data === undefined) {\n      return;\n    }\n    for (const key in data) {\n      let element = data[key];\n      if (\n        typeof element !== \"object\" ||\n        element === null ||\n        element === undefined\n      ) {\n        continue;\n      }\n      if (element.hashCode && element[\"^\"] === 1) {\n        Object.assign(element, {\n          ...this.lastFrameDataHashMap[element.hashCode],\n        });\n      } else {\n        this.composeSameMap(element);\n      }\n    }\n  }\n\n  composeHashMap(data: MPDocumentProps) {\n    if (data.diffs) {\n      data.diffs.forEach((diff) => {\n        this.composeSameMap(diff);\n        if (this.lastFrameDataHashMap[diff.hashCode]) {\n          Object.assign(this.lastFrameDataHashMap[diff.hashCode], {\n            ...diff,\n          });\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    if ((window as any).mpflutterUseSocket === 1) {\n      this.setupDartChannel();\n    } else {\n      this.setupJSChannel();\n    }\n  }\n\n  setupDartChannel() {\n    this.setState({ isConnecting: true });\n    let socket: WebSocket;\n    if (new URL(window.location.href).host.endsWith(\".gitpod.io\")) {\n      flutterBase = `https://${new URL(window.location.href).hostname}/`;\n      socket = new WebSocket(\n        `wsw://${new URL(window.location.href).hostname}/ws?clientType=web`\n      );\n    }\n    else {\n      flutterBase = `http://${new URL(window.location.href).hostname}:9898/`;\n      socket = new WebSocket(\n        `ws://${new URL(window.location.href).hostname}:9898/ws?clientType=web`\n      );\n    }\n    socket.onmessage = (event) => {\n      try {\n        const messageData = JSON.parse(event.data);\n        if (messageData.type === \"frame_data\") {\n          this.composeSameMap(messageData.message);\n          this.setState({\n            data: messageData.message,\n          });\n          this.createHashMap(messageData.message);\n        } else if (messageData.type === \"diff_data\") {\n          let newFrameData = this.state.data;\n          this.composeHashMap(messageData.message);\n          this.setState({\n            data: newFrameData,\n          });\n          this.createHashMap(newFrameData);\n        } else if (messageData.type === \"element_gc\") {\n          (messageData.message as number[]).forEach((it) => {\n            delete this.lastFrameDataHashMap[it];\n          });\n        } else if (messageData.type === \"decode_drawable\") {\n          MPDrawable.decodeDrawable(messageData.message);\n        } else if (messageData.type === \"route\") {\n          Router.receivedRouteMessage(messageData.message);\n        } else if (messageData.type === \"mpjs\") {\n          MPJS.instance.handleMessage(\n            messageData.message,\n            (result) => {\n              App.callbackChannel(\n                JSON.stringify({\n                  type: \"mpjs\",\n                  message: {\n                    requestId: messageData.message.requestId,\n                    result: result,\n                  },\n                })\n              );\n            },\n            (funcId: string, args: any[]) => {\n              App.callbackChannel(\n                JSON.stringify({\n                  type: \"mpjs\",\n                  message: {\n                    funcId: funcId,\n                    arguments: args,\n                  },\n                })\n              );\n            }\n          );\n        } else if (messageData.type === \"action:web_dialogs\") {\n          WebDialogs.receivedWebDialogsMessage(messageData.message);\n        } else {\n          MPCore.plugins.forEach((plugin) => {\n            plugin.onMessage?.call(this, messageData);\n          });\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    socket.onopen = () => {\n      this.setState({ isConnecting: false });\n      this.setupFonts();\n      this.setupPlugins();\n    };\n    socket.onclose = () => {\n      this.setState({ isConnecting: true });\n      setTimeout(() => {\n        this.setupDartChannel();\n      }, 1000);\n    };\n    Router.setupPopStateListener();\n    App.callbackChannel = (message) => {\n      try {\n        socket.send(message);\n      } catch (error) {}\n    };\n  }\n\n  setupJSChannel() {\n    window.addEventListener(\"message\", (event) => {\n      try {\n        const messageData = JSON.parse(event.data);\n        if (messageData.type === \"frame_data\") {\n          this.composeSameMap(messageData.message);\n          this.setState({\n            data: messageData.message,\n          });\n          this.createHashMap(messageData.message);\n        } else if (messageData.type === \"diff_data\") {\n          let newFrameData = this.state.data;\n          this.composeHashMap(messageData.message);\n          this.setState({\n            data: newFrameData,\n          });\n          this.createHashMap(newFrameData);\n        } else if (messageData.type === \"element_gc\") {\n          (messageData.message as number[]).forEach((it) => {\n            delete this.lastFrameDataHashMap[it];\n          });\n        } else if (messageData.type === \"decode_drawable\") {\n          MPDrawable.decodeDrawable(messageData.message);\n        } else if (messageData.type === \"route\") {\n          Router.receivedRouteMessage(messageData.message);\n        } else if (messageData.type === \"mpjs\") {\n          setTimeout(() => {\n            MPJS.instance.handleMessage(\n              messageData.message,\n              (result) => {\n                App.callbackChannel(\n                  JSON.stringify({\n                    type: \"mpjs\",\n                    message: {\n                      requestId: messageData.message.requestId,\n                      result: result,\n                    },\n                  })\n                );\n              },\n              (funcId: string, args: any[]) => {\n                App.callbackChannel(\n                  JSON.stringify({\n                    type: \"mpjs\",\n                    message: {\n                      funcId: funcId,\n                      arguments: args,\n                    },\n                  })\n                );\n              }\n            );\n          }, 4);\n        } else {\n          MPCore.plugins.forEach((plugin) => {\n            plugin.onMessage?.call(this, messageData);\n          });\n        }\n      } catch (error) {}\n    });\n    this.setupFonts();\n    this.setupPlugins();\n    Router.setupPopStateListener();\n    App.callbackChannel = (message) => {\n      window.postMessage(message, \"*\");\n    };\n    (window as any).mpClientAttached = true;\n  }\n\n  setupFonts() {\n    if (typeof window !== \"undefined\") {\n      flutterFonts.forEach((font) => {\n        const style = document.createElement(\"style\");\n        style.innerHTML = `\n        @font-face{\n          font-family: '${font.name}';\n          src: url('${flutterBase}assets/fonts/${font.url}');\n        }\n        `;\n        document.body.appendChild(style);\n      });\n    }\n  }\n\n  setupPlugins() {\n    if (typeof window !== \"undefined\") {\n      const script = document.createElement(\"script\");\n      script.src = `${flutterBase}assets/mp_plugins.js?v=${Math.random()}`;\n      script.addEventListener(\"load\", () => {\n        this.setState({});\n      });\n      document.body.appendChild(script);\n      const link = document.createElement(\"link\");\n      link.rel = \"stylesheet\";\n      link.type = \"text/css\";\n      link.href = `${flutterBase}assets/mp_plugins.css?v=${Math.random()}`;\n      link.media = \"all\";\n      document.head.appendChild(link);\n    }\n  }\n\n  render() {\n    return (\n      <div style={{ display: \"contents\" }}>\n        {this.state.data?.mainTabBar ? (\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            {MPCore.render(this.state.data?.scaffold)}\n            <div\n              style={{\n                position: \"sticky\",\n                bottom: \"0px\",\n                zIndex: 1,\n                opacity: 0.0,\n              }}\n            >\n              {MPCore.render(this.state.data?.mainTabBar)}\n            </div>\n            <div style={{ position: \"fixed\", bottom: \"0px\", zIndex: 1 }}>\n              {MPCore.render(this.state.data?.mainTabBar)}\n            </div>\n          </div>\n        ) : (\n          MPCore.render(this.state.data?.scaffold)\n        )}\n        {this.state.data?.overlays?.length > 0\n          ? this.state.data.overlays.map((it: any, index: number) => (\n              <Overlay key={`overlay_${index}`} data={it} />\n            ))\n          : null}\n        <ScrollListener />\n        <ScrollBehavior\n          displayingDialog={this.state.isDialogDisplaying}\n          scaffold={this.state.data?.scaffold}\n        />\n        <TextMeasurer\n          scaffold={this.state.data?.scaffold}\n          overlays={this.state.data?.overlays}\n        />\n        {this.state.isConnecting ? this.renderConnectingTips() : null}\n      </div>\n    );\n  }\n\n  renderConnectingTips() {\n    return (\n      <div\n        style={{\n          position: \"fixed\",\n          width: \"100%\",\n          top: \"0\",\n          backgroundColor: \"red\",\n          color: \"white\",\n          fontSize: 12,\n          fontWeight: \"bold\",\n          height: \"20px\",\n          textAlign: \"center\",\n          lineHeight: \"20px\",\n        }}\n      >Connecting to {(new URL(window.location.href)).hostname} ...</div>\n    );\n  }\n\n  attachDialog(element: any, touchable: boolean = true) {\n    this.setState({ isDialogDisplaying: true });\n    if (touchable) {\n      ReactDOM.render(\n        <div style={{ pointerEvents: \"auto\" }}>{element}</div>,\n        document.getElementById(\"mp_dialog\")\n      );\n    } else {\n      ReactDOM.render(element, document.getElementById(\"mp_dialog\"));\n    }\n  }\n\n  detachDialog() {\n    this.setState({ isDialogDisplaying: false });\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"mp_dialog\")!);\n  }\n}\n\nclass Router {\n  private static lastState: any;\n\n  static setupPopStateListener() {\n    if (window) {\n      window.addEventListener(\"popstate\", (e) => {\n        if (this.doBacking) {\n          return true;\n        }\n        if (this.lastState?.randomId !== e.state?.randomId) {\n          App.callbackChannel(\n            JSON.stringify({\n              type: \"router\",\n              message: {\n                event: \"doPop\",\n              },\n            })\n          );\n        }\n      });\n    }\n  }\n\n  static receivedRouteMessage(message: any) {\n    if (message.event === \"didPush\") {\n      this.didPush(message);\n    } else if (message.event === \"didPop\") {\n      this.didPop();\n    }\n  }\n\n  static didPush(message: any) {\n    if (window) {\n      let routeUrl: string = message.route.name;\n      if (routeUrl.indexOf(\"?\") > 0) {\n        let path = routeUrl.split(\"?\")[0];\n        let others = routeUrl\n          .split(\"?\")\n          .filter((it, idx) => idx > 0)\n          .join(\"?\");\n        routeUrl = `${path}${encodeURIComponent(`?${others}`)}`;\n      }\n      message.route.randomId = Math.random().toString();\n      window.history.pushState(message.route, \"\", `?route=${routeUrl}`);\n      this.lastState = message.route;\n    }\n  }\n\n  static doBacking = false;\n\n  static didPop() {\n    if (window) {\n      this.doBacking = true;\n      window.history.back();\n      setTimeout(() => {\n        this.doBacking = false;\n      }, 300);\n    }\n  }\n}\n\nif (typeof window !== \"undefined\") {\n  (window as any).$MPFlutter = {\n    MPCore,\n    App,\n  };\n  (window as any).React = React;\n  (window as any).ReactDOM = ReactDOM;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/app\";\nrequire('./polyfills/object_values');\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
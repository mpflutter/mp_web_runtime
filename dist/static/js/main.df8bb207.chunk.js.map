{"version":3,"sources":["components/mpcore/utils/geometry.ts","components/mpcore/components/align.tsx","components/mpcore/utils/color.ts","components/mpcore/components/colored_box.tsx","components/mpcore/components/constrained_box.tsx","components/mpcore/components/flex.tsx","components/mpcore/utils/text.ts","components/mpcore/components/rich_text.tsx","components/mpcore/components/padding.tsx","components/mpcore/components/list_view.tsx","components/mpcore/components/sized_box.tsx","components/mpcore/components/decorated_box.tsx","components/mpcore/utils/border.ts","components/mpcore/components/divider.tsx","components/mpcore/components/image.tsx","components/mpcore/components/clip_oval.tsx","components/mpcore/components/clip_r_rect.tsx","components/mpcore/components/opacity.tsx","components/mpcore/components/flexible.tsx","components/mpcore/components/gesture_detector.tsx","components/mpcore/components/stack.tsx","components/mpcore/components/positioned.tsx","components/mpcore/components/visibility.tsx","components/mpcore/components/offstage.tsx","components/mpcore/components/transform.tsx","components/mpcore/components/absorb_pointer.tsx","components/mpcore/components/ignore_pointer.tsx","components/mpcore/components/icon.tsx","components/mpcore/components/custom_scroll_view.tsx","components/mpcore/components/sliver_list.tsx","components/mpcore/components/div.tsx","components/mpcore/components/editable_text.tsx","components/mpcore/components/tab_bar.tsx","components/mpcore/components/grid_waterfall_layout.tsx","components/mpcore/components/grid_view.tsx","components/mpcore/components/sliver_grid.tsx","components/mpcore/components/wrap.tsx","components/mpcore/components/sliver_persistent_header.tsx","components/mpcore/mpkit/web_view.tsx","components/mpcore/mpkit/scaffold.tsx","components/mpcore/mpkit/mpkit.tsx","components/mpcore/mpcore.tsx","components/mpcore/components/web_dialogs.tsx","components/mpcore/components/overlay.tsx","components/mpcore/scroll_listener.tsx","components/mpcore/scroll_behavior.tsx","components/mpcore/text_measurer.tsx","components/app.tsx","index.tsx"],"names":["isNumeric","str","isNaN","parseFloat","cssConstraints","value","display","minWidth","cssWidth","maxWidth","minHeight","cssHeight","maxHeight","isTight","cssPadding","startsWith","trimedValue","replace","paddingLeft","paddingTop","paddingRight","paddingBottom","values","split","map","it","trim","cssBorderRadius","borderRadius","topLeft","match","topRight","bottomLeft","bottomRight","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","cssOffset","dx","dy","Align","justifyContent","alignItems","alignments","this","props","data","attributes","alignment","flexDirection","style","constraints","alignStyles","children","Component","cssColor","intValue","parseInt","cssGradient","classname","end","segments","stops","length","colors","idx","undefined","toFixed","join","ColoredBox","backgroundColor","color","ConstrainedBox","Flex","mainAxisSize","direction","mainAxisAlignment","crossAxisAlignment","cssTextStyle","fontFamily","fontSize","toString","fontWeight","getFontWeightStyle","fontStyle","getFontStyleStyle","letterSpacing","wordSpacing","textBaseline","alignmentBaseline","getBaselineStyle","height","cssTextAlign","RichText","nextProps","measureId","measuring","maxLines","overflow","textOverflow","textAlign","WebkitLineClamp","WebkitBoxOrient","overflowWrap","wordBreak","wordWrap","whiteSpace","inlineSize","inline","jsxComponentFromSpan","name","TextSpan","onClick","onTap_el","App","callbackChannel","JSON","stringify","type","message","event","target","subTarget","onTap_span","text","WidgetSpan","MPCore","render","Padding","padding","ListView","isRoot","scrollDirection","overflowX","overflowY","SizedBox","width","DecoratedBox","output","image","src","assetName","assetPkg","flutterBase","decoration","gradient","boxShadow","shadow","offset","blurRadius","spreadRadius","border","borderTopWidth","topWidth","window","devicePixelRatio","borderTopColor","topColor","borderTopStyle","borderLeftWidth","leftWidth","borderLeftColor","leftColor","borderLeftStyle","borderBottomWidth","bottomWidth","borderBottomColor","bottomColor","borderBottomStyle","borderRightWidth","rightWidth","borderRightColor","rightColor","borderRightStyle","cssBorder","position","top","left","renderDecoration","Divider","thickness","Image","imgConstraints","alt","objectFit","fit","ClipOval","ClipRRect","Opacity","opacity","Flexible","flex","GestureDetector","onTap","e","stopPropagation","Stack","Positioned","right","bottom","Visibility","visibility","visible","Offstage","offstage","Transform","transform","AbsorbPointer","IgnorePointer","pointerEvents","ignoring","Icon","icon","size","codePoint","String","fromCharCode","CustomScrollView","console","log","SliverList","Div","EditableText","_lastValue","onSubmitted","blur","onChanged","indexOf","signed","decimal","onInput","_onChanged","onChange","rows","readOnly","onKeyUp","key","keyCode","_onSubmitted","obscureText","_keyboardType","keyboardType","pattern","_keyboardPattern","autoFocus","autofocus","autoCorrect","TabBar","index","onTapIndex","selected","renderSliverGridDelegateWithFixedCrossAxisCount","delegate","options","clientWidth","parentWidth","document","body","gridViewPadding","itemWidth","crossAxisSpacing","crossAxisCount","marginLeft","marginRight","marginTop","mainAxisSpacing","marginBottom","childAspectRatio","renderSliverGridDelegateWithMaxCrossAxisExtent","Math","floor","maxCrossAxisExtent","renderSliverWaterfallDelegate","currentRowIndex","layoutCache","maxY","layouts","currentY","itemHeight","nextIndex","y","x","max","GridView","flexWrap","gridDelegate","SliverWaterfallItem","SliverGrid","Wrap","spacing","runSpacing","SliverPersistentHeader","zIndex","MPWebView","title","url","MPScaffold","setupDocumentTitle","appBarHeight","id","isListBody","appBar","header","tabBar","bottomBar","floatingBody","FloatingBody","positioned","MPKit","components","mp_web_view","mp_scaffold","plugin","plugins","push","createElement","colored_box","align","constrained_box","rich_text","list_view","sized_box","decorated_box","divider","clip_oval","clip_r_rect","flexible","gesture_detector","stack","absorb_pointer","ignore_pointer","custom_scroll_view","sliver_list","sliver_grid","div","editable_text","tab_bar","grid_view","wrap","sliver_waterfall_item","sliver_persistent_header","WebDialogs","alert","result","confirm","prompt","Overlay","onBackgroundTap","ScrollListener","_scrollListener","_scrollToBottomLastCall","pageYOffset","innerHeight","scrollHeight","Date","getTime","addEventListener","removeEventListener","React","ScrollBehavior","setupBodyScrollBehavior","displayingDialog","setProperty","scaffold","TextMeasurer","state","targetTexts","doScan","newProps","bounds","getElementById","getBoundingClientRect","scanRichText","setState","forEach","flutterFonts","lastFrameData","mpflutterUseSocket","setupDartChannel","setupJSChannel","URL","location","href","hostname","socket","WebSocket","onmessage","messageData","parse","patchedFrameData","applyPatch","newDocument","Router","receivedRouteMessage","receivedWebDialogsMessage","onMessage","call","error","onopen","setupFonts","setupPlugins","onclose","setTimeout","setupPopStateListener","send","postMessage","font","innerHTML","appendChild","script","link","rel","media","head","overlays","isDialogDisplaying","element","touchable","ReactDOM","unmountComponentAtNode","doBacking","didPush","didPop","routeUrl","route","path","others","filter","encodeURIComponent","history","pushState","back","$MPFlutter","StrictMode"],"mappings":"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","file":"static/js/main.df8bb207.chunk.js","sourcesContent":["import { MPConstraints } from \"../component\";\n\nfunction isNumeric(str: any) {\n  if (typeof str === \"number\") return true;\n  if (typeof str !== \"string\") return false; // we only process strings!\n  return (\n    !isNaN(str as any) && !isNaN(parseFloat(str)) // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...\n  ); // ...and ensure strings of whitespace fail\n}\n\nexport const cssConstraints = (value?: MPConstraints): any => {\n  if (!value) return {};\n  return {\n    display: \"flex\",\n    minWidth: cssWidth(value.minWidth), // !value.hasTightWidth ? \"unset\" : cssWidth(value.minWidth),\n    maxWidth: cssWidth(value.maxWidth),\n    minHeight: cssHeight(value.minHeight), // !value.hasTightHeight ? \"unset\" : cssHeight(value.minHeight),\n    maxHeight: cssHeight(value.maxHeight),\n  };\n};\n\nexport const cssWidth = (value: string, isTight = true) => {\n  if (!isNumeric(value)) return \"unset\";\n  if (value === \"Infinity\" && isTight === false) {\n    return \"-webkit-fill-available\";\n  }\n  if (value === \"Infinity\") {\n    return \"100%\";\n  } else if (value === \"0.001\") {\n    return \"100%\";\n  } else {\n    return value + \"px\";\n  }\n};\n\nexport const cssHeight = (value: string, isTight = true) => {\n  if (!isNumeric(value)) return \"unset\";\n  if (value === \"Infinity\" && isTight === false) {\n    return \"-webkit-fill-available\";\n  }\n  if (value === \"Infinity\") {\n    return \"100%\";\n  } else if (value === \"0.001\") {\n    return \"100%\";\n  } else {\n    return value + \"px\";\n  }\n};\n\nexport const cssPadding = (value: string) => {\n  if (!value) return {};\n  if (value.startsWith(\"EdgeInsets.zero\")) {\n    return {};\n  } else if (value.startsWith(\"EdgeInsets.all(\")) {\n    const trimedValue = value.replace(\"EdgeInsets.all(\", \"\").replace(\")\", \"\");\n    return {\n      paddingLeft: trimedValue + \"px\",\n      paddingTop: trimedValue + \"px\",\n      paddingRight: trimedValue + \"px\",\n      paddingBottom: trimedValue + \"px\",\n    };\n  } else if (value.startsWith(\"EdgeInsets(\")) {\n    const trimedValue = value.replace(\"EdgeInsets(\", \"\").replace(\")\", \"\");\n    const values = trimedValue.split(\",\").map((it) => it.trim());\n    return {\n      paddingLeft: values[0] + \"px\",\n      paddingTop: values[1] + \"px\",\n      paddingRight: values[2] + \"px\",\n      paddingBottom: values[3] + \"px\",\n    };\n  } else {\n    return {};\n  }\n};\n\nexport const cssBorderRadius = (value: string) => {\n  if (value.startsWith(\"BorderRadius.circular(\")) {\n    const trimedValue = value\n      .replace(\"BorderRadius.circular(\", \"\")\n      .replace(\")\", \"\");\n    return { borderRadius: trimedValue + \"px\" };\n  } else if (value.startsWith(\"BorderRadius.all(\")) {\n    const trimedValue = value.replace(\"BorderRadius.all(\", \"\").replace(\")\", \"\");\n    return { borderRadius: trimedValue + \"px\" };\n  } else if (value.startsWith(\"BorderRadius.only(\")) {\n    const trimedValue = value\n      .replace(\"BorderRadius.only(\", \"\")\n      .replace(/\\)/gi, \"\")\n      .replace(/Radius.circular\\(/gi, \"\");\n    const topLeft = trimedValue.match(/topLeft: ([0-9|.]+)/)?.[1] ?? 0;\n    const topRight = trimedValue.match(/topRight: ([0-9|.]+)/)?.[1] ?? 0;\n    const bottomLeft = trimedValue.match(/bottomLeft: ([0-9|.]+)/)?.[1] ?? 0;\n    const bottomRight = trimedValue.match(/bottomRight: ([0-9|.]+)/)?.[1] ?? 0;\n    return {\n      borderTopLeftRadius: `${topLeft}px`,\n      borderTopRightRadius: `${topRight}px`,\n      borderBottomLeftRadius: `${bottomLeft}px`,\n      borderBottomRightRadius: `${bottomRight}px`,\n    };\n  } else {\n    return {};\n  }\n};\n\nexport const cssOffset = (\n  value: string\n): { dx: string; dy: string } | undefined => {\n  if (value.startsWith(\"Offset(\")) {\n    const trimedValue = value.replace(\"Offset(\", \"\").replace(\")\", \"\");\n    const values = trimedValue.split(\",\").map((it) => it.trim());\n    return { dx: values[0], dy: values[1] };\n  } else {\n    return undefined;\n  }\n};\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class Align extends Component<{ data: MPComponentsProps }> {\n  alignStyles() {\n    let alignments = this.props.data.attributes.alignment;\n    let justifyContent;\n    if (\n      alignments === \"bottomLeft\" ||\n      alignments === \"centerLeft\" ||\n      alignments === \"topLeft\"\n    ) {\n      justifyContent = \"flex-start\";\n    } else if (\n      alignments === \"bottomCenter\" ||\n      alignments === \"center\" ||\n      alignments === \"topCenter\"\n    ) {\n      justifyContent = \"center\";\n    } else if (\n      alignments === \"bottomRight\" ||\n      alignments === \"centerRight\" ||\n      alignments === \"topRight\"\n    ) {\n      justifyContent = \"flex-end\";\n    }\n    let alignItems;\n    if (\n      alignments === \"topCenter\" ||\n      alignments === \"topLeft\" ||\n      alignments === \"topRight\"\n    ) {\n      alignItems = \"flex-start\";\n    } else if (\n      alignments === \"centerLeft\" ||\n      alignments === \"center\" ||\n      alignments === \"centerRight\"\n    ) {\n      alignItems = \"center\";\n    } else if (\n      alignments === \"bottomCenter\" ||\n      alignments === \"bottomLeft\" ||\n      alignments === \"bottomRight\"\n    ) {\n      alignItems = \"flex-end\";\n    }\n    return { display: \"flex\", flexDirection: \"row\", justifyContent, alignItems };\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          ...this.alignStyles(),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","export const cssColor = (value: string) => {\n  const intValue = parseInt(value);\n\n  return `rgba(${(intValue >> 16) & 0xff}, ${(intValue >> 8) & 0xff}, ${\n    (intValue >> 0) & 0xff\n  }, ${((intValue >> 24) & 0xff) / 255.0})`;\n};\n\nexport const cssGradient = (value: any) => {\n  if (!value) return \"\";\n  if (value.classname === \"LinearGradient\") {\n    let end = (() => {\n      switch (value.end) {\n        case \"centerRight\":\n          return \"to right\";\n        case \"centerLeft\":\n          return \"to left\";\n        case \"topRight\":\n          return \"to top right\";\n        case \"bottomRight\":\n          return \"to bottom right\";\n        case \"topLeft\":\n          return \"to top left\";\n        case \"bottomLeft\":\n          return \"to bottom left\";\n        case \"topCenter\":\n          return \"to top\";\n        case \"bottomCenter\":\n          return \"to bottom\";\n        default:\n          break;\n      }\n    })();\n    let segments: string[] = [];\n    if (value.stops && value.stops.length) {\n      segments = value.colors.map((it: string, idx: number) => {\n        if (value.stops[idx] !== undefined) {\n          return `${cssColor(it)} ${(value.stops[idx] * 100).toFixed(0)}%`;\n        } else {\n          return cssColor(it);\n        }\n      });\n    } else {\n      segments = value.colors.map((it: string) => cssColor(it));\n    }\n    return `linear-gradient(${end}, ${segments.join(\", \")})`;\n  }\n  return ``;\n};\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class ColoredBox extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          backgroundColor: cssColor(this.props.data.attributes.color),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class ConstrainedBox extends Component<{ data: MPComponentsProps }> {\n  render() {\n    if (!this.props.children || !(this.props.children as any).length) {\n      return (\n        <div style={{ ...cssConstraints(this.props.data.constraints) }}></div>\n      );\n    }\n    return this.props.children;\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssHeight, cssWidth } from \"../utils/geometry\";\n\nexport class Flex extends Component<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (\n      this.props.data.attributes.mainAxisSize === \"MainAxisSize.max\" &&\n      this.props.data.attributes.direction === \"Axis.vertical\"\n    ) {\n      constraints.minHeight = this.props.data.constraints?.minHeight\n        ? cssHeight(this.props.data.constraints.maxHeight)\n        : \"unset\";\n    } else if (\n      this.props.data.attributes.mainAxisSize === \"MainAxisSize.max\" &&\n      this.props.data.attributes.direction === \"Axis.horizontal\"\n    ) {\n      constraints.minWidth = this.props.data.constraints?.minWidth\n        ? cssWidth(this.props.data.constraints.maxWidth)\n        : \"unset\";\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: (() => {\n            switch (this.props.data.attributes.direction) {\n              case \"Axis.vertical\":\n                return \"column\";\n              case \"Axis.horizontal\":\n                return \"row\";\n              default:\n                return \"column\";\n            }\n          })(),\n          justifyContent: (() => {\n            switch (this.props.data.attributes.mainAxisAlignment) {\n              case \"MainAxisAlignment.start\":\n                return \"flex-start\";\n              case \"MainAxisAlignment.center\":\n                return \"center\";\n              case \"MainAxisAlignment.end\":\n                return \"flex-end\";\n              case \"MainAxisAlignment.spaceBetween\":\n                return \"space-between\";\n              case \"MainAxisAlignment.spaceAround\":\n                return \"space-around\";\n              case \"MainAxisAlignment.spaceEvenly\":\n                return \"space-evenly\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          alignItems: (() => {\n            switch (this.props.data.attributes.crossAxisAlignment) {\n              case \"CrossAxisAlignment.start\":\n                return \"flex-start\";\n              case \"CrossAxisAlignment.center\":\n                return \"center\";\n              case \"CrossAxisAlignment.end\":\n                return \"flex-end\";\n              case \"CrossAxisAlignment.stretch\":\n                return \"stretch\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          ...constraints,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { CSSProperties } from \"react\";\nimport { cssColor } from \"./color\";\n\nfunction getFontWeightStyle(data: any) {\n  if (data.fontWeight) {\n    return data.fontWeight.replace(\"FontWeight.w\", \"\");\n  }\n  return undefined;\n}\n\nfunction getFontStyleStyle(data: any) {\n  if (data.fontStyle === \"FontStyle.italic\") {\n    return \"italic\";\n  }\n  return undefined;\n}\n\nfunction getBaselineStyle(data: any) {\n  if (data.textBaseline === \"TextBaseline.alphabetic\") {\n    return \"alphabetic\";\n  } else if (data.textBaseline === \"TextBaseline.ideographic\") {\n    return \"ideographic\";\n  }\n  return undefined;\n}\n\nexport function cssTextStyle(data: any): CSSProperties {\n  let style: CSSProperties = {};\n\n  if (data != null) {\n    if (data.fontFamily) {\n      style.fontFamily = data.fontFamily;\n    }\n    if (data.fontSize != null) {\n      style.fontSize = `${(data.fontSize ?? 14).toString()}px`;\n    }\n    if (data.color != null) {\n      style.color = cssColor(data.color);\n    }\n    if (data.fontWeight) {\n      style.fontWeight = getFontWeightStyle(data);\n    }\n    if (data.fontStyle) {\n      style.fontStyle = getFontStyleStyle(data);\n    }\n    if (data.letterSpacing) {\n      style.letterSpacing = data.letterSpacing;\n    }\n    if (data.wordSpacing) {\n      style.wordSpacing = data.wordSpacing;\n    }\n    if (data.textBaseline) {\n      style.alignmentBaseline = getBaselineStyle(data);\n    }\n    if (data.height) {\n      style.height = data.height;\n    }\n    if (data.backgroundColor != null) {\n      style.backgroundColor = cssColor(data.backgroundColor);\n    }\n  }\n  return style;\n}\n\nexport const cssTextAlign = (value: any) => {\n  return value?.replace(\"TextAlign.\", \"\");\n};\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssTextAlign, cssTextStyle } from \"../utils/text\";\nimport { MPCore } from \"../mpcore\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class RichText extends Component<{ data: MPComponentsProps }> {\n  shouldComponentUpdate(nextProps: { data: MPComponentsProps }) {\n    if (nextProps.data.attributes.measureId) {\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    let style = {};\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (constraints.minWidth === \"100%\") {\n      constraints.minWidth = \"unset\";\n    }\n    if (constraints.minHeight === \"100%\") {\n      constraints.minHeight = \"unset\";\n    }\n    if (this.props.data.constraints?.measuring) {\n      constraints.minWidth = \"unset\";\n      constraints.minHeight = \"unset\";\n    }\n    if (this.props.data.attributes.maxLines) {\n      style = {\n        ...constraints,\n        ...style,\n        ...{\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n          display: \"-webkit-box\",\n          WebkitLineClamp: this.props.data.attributes.maxLines.toString(),\n          WebkitBoxOrient: \"vertical\",\n          fontSize: \"11px\",\n          overflowWrap: \"anywhere\",\n          wordBreak: \"break-all\",\n          wordWrap: \"break-word\",\n          whiteSpace: \"pre-line\",\n          inlineSize:\n            this.props.data.attributes.inline === true\n              ? \"max-content\"\n              : undefined,\n        },\n      };\n    } else {\n      style = {\n        ...constraints,\n        ...style,\n        ...{\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n          display: \"-webkit-box\",\n          WebkitLineClamp: \"99999\",\n          WebkitBoxOrient: \"vertical\",\n          fontSize: \"11px\",\n          overflowWrap: \"anywhere\",\n          wordBreak: \"break-all\",\n          wordWrap: \"break-word\",\n          whiteSpace: \"pre-line\",\n          inlineSize:\n            this.props.data.attributes.inline === true\n              ? \"max-content\"\n              : undefined,\n        },\n      };\n    }\n    return (\n      <div style={style}>\n        {this.props.data.children?.map((it, idx) => {\n          return jsxComponentFromSpan(it, idx);\n        })}\n      </div>\n    );\n  }\n}\n\nconst jsxComponentFromSpan = (it: any, idx: number) => {\n  if (it.name === \"text_span\") {\n    return <TextSpan key={`idx_${idx}`} data={it} />;\n  } else if (it.name === \"widget_span\") {\n    return <WidgetSpan key={`idx_${idx}`} data={it} />;\n  } else {\n    return null;\n  }\n};\n\nexport class TextSpan extends Component<any> {\n  render() {\n    return (\n      <span\n        style={cssTextStyle(this.props.data.attributes.style)}\n        onClick={(() => {\n          if (this.props.data.attributes.onTap_el) {\n            return () => {\n              App.callbackChannel(\n                JSON.stringify({\n                  type: \"rich_text\",\n                  message: {\n                    event: \"onTap\",\n                    target: this.props.data.attributes.onTap_el,\n                    subTarget: this.props.data.attributes.onTap_span,\n                  },\n                })\n              );\n            };\n          }\n        })()}\n      >\n        {this.props.data.attributes.text ??\n          this.props.data.children?.map((it: any, idx: number) => {\n            return jsxComponentFromSpan(it, idx);\n          })}\n      </span>\n    );\n  }\n}\n\nexport class WidgetSpan extends Component<any> {\n  render() {\n    return (\n      <div style={{ display: \"inline-flex\" }}>\n        {this.props.data.children.map((it: any, idx: number) =>\n          MPCore.render(it, `ws_child_${idx}`)\n        )}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssPadding } from \"../utils/geometry\";\n\nexport class Padding extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssPadding(this.props.data.attributes.padding),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssPadding } from \"../utils/geometry\";\n\nexport class ListView extends Component<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (this.props.data.attributes.isRoot) {\n      if (this.props.data.attributes.scrollDirection === \"Axis.horizontal\") {\n        constraints.maxWidth = \"unset\";\n      } else {\n        constraints.maxHeight = \"unset\";\n      }\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection:\n            this.props.data.attributes.scrollDirection === \"Axis.horizontal\"\n              ? \"row\"\n              : \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"stretch\",\n          ...cssPadding(this.props.data.attributes.padding),\n          ...constraints,\n          overflowX:\n            this.props.data.attributes.scrollDirection === \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n          overflowY:\n            this.props.data.attributes.scrollDirection !== \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssWidth, cssHeight } from \"../utils/geometry\";\n\nexport class SizedBox extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          minWidth: cssWidth(this.props.data.attributes.width),\n          minHeight: cssHeight(this.props.data.attributes.height),\n          maxWidth: cssWidth(this.props.data.attributes.width),\n          maxHeight: cssHeight(this.props.data.attributes.height)\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssBorder } from \"../utils/border\";\nimport { cssColor, cssGradient } from \"../utils/color\";\nimport { cssBorderRadius, cssConstraints, cssOffset } from \"../utils/geometry\";\nimport { flutterBase } from \"../../app\";\n\nexport class DecoratedBox extends Component<{ data: MPComponentsProps }> {\n  renderDecoration() {\n    let output: any = {};\n    if (this.props.data.attributes.color) {\n      output[\"backgroundColor\"] = cssColor(this.props.data.attributes.color);\n    }\n    if (this.props.data.attributes.image) {\n      output[\"backgroundImage\"] = `url(\"${(() => {\n        if (this.props.data.attributes.image.src) {\n          return this.props.data.attributes.image.src;\n        } else if (this.props.data.attributes.image.assetName) {\n          if (this.props.data.attributes.image.assetPkg) {\n            return `${flutterBase}/assets/packages/${this.props.data.attributes.image.assetPkg}/${this.props.data.attributes.image.assetName}`;\n          } else {\n            return `${flutterBase}/assets/${this.props.data.attributes.image.assetName}`;\n          }\n        }\n      })()}\")`;\n      output[\"backgroundSize\"] = \"contain\";\n    }\n    if (this.props.data.attributes.decoration?.gradient) {\n      if (output[\"backgroundImage\"]) {\n        output[\"backgroundImage\"] =\n          cssGradient(this.props.data.attributes.decoration.gradient) +\n          \",\" +\n          output[\"backgroundImage\"];\n      } else {\n        output[\"background\"] = cssGradient(\n          this.props.data.attributes.decoration.gradient\n        );\n      }\n    }\n    if (this.props.data.attributes.decoration?.boxShadow?.[0]) {\n      const shadow = this.props.data.attributes.decoration?.boxShadow?.[0];\n      output[\"boxShadow\"] = `${cssOffset(shadow.offset)?.dx}px ${\n        cssOffset(shadow.offset)?.dy\n      }px ${shadow.blurRadius}px ${shadow.spreadRadius}px ${cssColor(\n        shadow.color\n      )}`;\n    }\n    if (this.props.data.attributes.decoration?.borderRadius) {\n      output = {\n        ...output,\n        ...cssBorderRadius(this.props.data.attributes.decoration.borderRadius),\n      };\n    }\n    if (this.props.data.attributes.decoration?.border) {\n      output = {\n        ...output,\n        ...cssBorder(this.props.data.attributes.decoration.border),\n      };\n    }\n    return output;\n  }\n\n  render() {\n    if (\n      this.props.data.attributes.position === \"DecorationPosition.foreground\"\n    ) {\n      return (\n        <div\n          style={{\n            position: \"relative\",\n            ...cssConstraints(this.props.data.constraints),\n          }}\n        >\n          {this.props.children}\n          <div\n            style={{\n              position: \"absolute\",\n              top: \"0px\",\n              left: \"0px\",\n              minWidth: \"100%\",\n              minHeight: \"100%\",\n              ...this.renderDecoration(),\n            }}\n          ></div>\n        </div>\n      );\n    } else {\n      return (\n        <div\n          style={{\n            ...cssConstraints(this.props.data.constraints),\n            ...this.renderDecoration(),\n          }}\n        >\n          {this.props.children}\n        </div>\n      );\n    }\n  }\n}\n","import { cssColor } from \"./color\";\n\nexport const cssBorder = (value: any) => {\n    let output: any = {};\n    if (value[`topStyle`] !== \"BorderStyle.none\") {\n        output.borderTopWidth =\n            value.topWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.topWidth + \"px\";\n        output.borderTopColor = cssColor(value.topColor);\n        output.borderTopStyle = \"solid\";\n    }\n    if (value[`leftStyle`] !== \"BorderStyle.none\") {\n        output.borderLeftWidth =\n            value.leftWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.leftWidth + \"px\";\n        output.borderLeftColor = cssColor(value.leftColor);\n        output.borderLeftStyle = \"solid\";\n    }\n    if (value[`bottomStyle`] !== \"BorderStyle.none\") {\n        output.borderBottomWidth =\n            value.bottomWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.bottomWidth + \"px\";\n        output.borderBottomColor = cssColor(value.bottomColor);\n        output.borderBottomStyle = \"solid\";\n    }\n    if (value[`rightStyle`] !== \"BorderStyle.none\") {\n        output.borderRightWidth =\n            value.rightWidth === 0.0\n                ? `${(1.0 / window.devicePixelRatio).toFixed(2)}px`\n                : value.rightWidth + \"px\";\n        output.borderRightColor = cssColor(value.rightColor);\n        output.borderRightStyle = \"solid\";\n    }\n    return output;\n};\n","import { Component } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { cssHeight } from \"../utils/geometry\";\nimport React from \"react\";\n\nexport class Divider extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          minWidth: \"100%\",\n          minHeight: cssHeight(this.props.data.attributes.height),\n          maxWidth: \"100%\",\n          maxHeight: cssHeight(this.props.data.attributes.height),\n          alignItems: \"center\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            minWidth: \"100%\",\n            minHeight: cssHeight(this.props.data.attributes.thickness),\n            maxWidth: \"100%\",\n            maxHeight: cssHeight(this.props.data.attributes.thickness),\n            borderTopWidth: cssHeight(\n              this.props.data.attributes.thickness,\n              true\n            ),\n            borderTopStyle: \"solid\",\n            borderTopColor: cssColor(this.props.data.attributes.color),\n          }}\n        ></div>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { flutterBase } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssHeight, cssWidth } from \"../utils/geometry\";\n\nexport class Image extends Component<{ data: MPComponentsProps }> {\n  render() {\n    let imgConstraints: any = cssConstraints(this.props.data.constraints);\n    imgConstraints.minWidth = imgConstraints.maxWidth;\n    imgConstraints.minHeight = imgConstraints.maxHeight;\n    if (this.props.data.attributes.width) {\n      imgConstraints.minWidth = cssWidth(this.props.data.attributes.width);\n      imgConstraints.maxWidth = cssWidth(this.props.data.attributes.width);\n    }\n    if (this.props.data.attributes.height) {\n      imgConstraints.minHeight = cssHeight(this.props.data.attributes.height);\n      imgConstraints.maxHeight = cssHeight(this.props.data.attributes.height);\n    }\n    return (\n      <img\n        alt=\"\"\n        style={{\n          ...imgConstraints,\n          objectFit: (() => {\n            if (!this.props.data.attributes.fit) return \"cover\";\n            switch (this.props.data.attributes.fit) {\n              case \"BoxFit.fill\":\n                return \"fill\";\n              case \"BoxFit.contain\":\n                return \"contain\";\n              case \"BoxFit.cover\":\n                return \"cover\";\n              case \"BoxFit.fitWidth\":\n                return \"scale-down\";\n              case \"BoxFit.fitHeight\":\n                return \"scale-down\";\n              case \"BoxFit.none\":\n                return \"none\";\n              default:\n                return \"contain\";\n            }\n          })(),\n        }}\n        src={(() => {\n          if (this.props.data.attributes.src) {\n            return this.props.data.attributes.src;\n          } else if (this.props.data.attributes.assetName) {\n            if (this.props.data.attributes.assetPkg) {\n              return `${flutterBase}/assets/packages/${this.props.data.attributes.assetPkg}/${this.props.data.attributes.assetName}`;\n            } else {\n              return `${flutterBase}/assets/${this.props.data.attributes.assetName}`;\n            }\n          }\n        })()}\n      ></img>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\n\nexport class ClipOval extends Component {\n  render() {\n    return (\n      <div\n        style={{\n          borderRadius: \"50%\",\n          overflow: \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssBorderRadius } from \"../utils/geometry\";\n\nexport class ClipRRect extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssBorderRadius(this.props.data.attributes.borderRadius),\n          overflow: \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Opacity extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          opacity: this.props.data.attributes.opacity,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Flexible extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flex: this.props.data.attributes.flex\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class GestureDetector extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{}}\n        onClick={\n          this.props.data.attributes.onTap\n            ? (e: any) => {\n                App.callbackChannel(\n                  JSON.stringify({\n                    type: \"gesture_detector\",\n                    message: {\n                      event: \"onTap\",\n                      target: this.props.data.attributes.onTap,\n                    },\n                  })\n                );\n                e.stopPropagation();\n              }\n            : undefined\n        }\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class Stack extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          position: \"relative\",\n          ...cssConstraints(this.props.data.constraints),\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssWidth } from \"../utils/geometry\";\n\nexport class Positioned extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          position: \"absolute\",\n          left: cssWidth(this.props.data.attributes.left),\n          top: cssWidth(this.props.data.attributes.top),\n          right: cssWidth(this.props.data.attributes.right),\n          bottom: cssWidth(this.props.data.attributes.bottom),\n          width: cssWidth(this.props.data.attributes.width),\n          height: cssWidth(this.props.data.attributes.height)\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Visibility extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          visibility: this.props.data.attributes.visible ? \"unset\" : \"hidden\",\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Offstage extends Component<{ data: MPComponentsProps }> {\n  render() {\n    if (this.props.data.attributes.offstage === true) {\n      return null;\n    } else {\n      return this.props.children;\n    }\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class Transform extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          transform: this.props.data.attributes.transform,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class AbsorbPointer extends Component<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return (\n      <div\n        style={{}}\n        onClick={(e: any) => {\n          e.stopPropagation();\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class IgnorePointer extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          pointerEvents: this.props.data.attributes.ignoring\n            ? \"none\"\n            : undefined,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { cssConstraints, cssWidth } from \"../utils/geometry\";\n\nexport class Icon extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          ...cssConstraints(this.props.data.constraints),\n          fontFamily: this.props.data.attributes.icon?.fontFamily,\n          color:\n            this.props.data.attributes.color &&\n            cssColor(this.props.data.attributes.color),\n          fontSize: cssWidth(this.props.data.attributes.size),\n        }}\n      >\n        {this.props.data.attributes.icon?.codePoint\n          ? String.fromCharCode(this.props.data.attributes.icon?.codePoint)\n          : \"\"}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { cssConstraints } from \"../utils/geometry\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class CustomScrollView extends Component<{ data: MPComponentsProps }> {\n  render() {\n    console.log(this.props.data);\n    \n    let constraints = cssConstraints(this.props.data.constraints);\n    if (this.props.data.attributes.isRoot) {\n      constraints.maxHeight = \"unset\";\n    }\n\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"flex-start\",\n          alignItems: \"stretch\",\n          overflowX: \"hidden\",\n          ...constraints,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\n\nexport class SliverList extends Component {\n    render() {\n        return <div>{this.props.children}</div>;\n    }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\n\nexport class Div extends Component {\n  render() {\n    return <div style={{}}>{this.props.children}</div>;\n  }\n}\n","import { Component } from \"react\";\nimport { cssTextAlign, cssTextStyle } from \"../utils/text\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\nimport React from \"react\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class EditableText extends Component<{ data: MPComponentsProps }> {\n  _lastValue: any;\n\n  _onSubmitted(target: HTMLInputElement, value: string) {\n    if (this.props.data.attributes.onSubmitted) {\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"editable_text\",\n          message: {\n            event: \"onSubmitted\",\n            target: this.props.data.attributes.onSubmitted,\n            data: value,\n          },\n        })\n      );\n      target.blur();\n    }\n  }\n\n  _onChanged(target: HTMLInputElement, value: string) {\n    App.callbackChannel(\n      JSON.stringify({\n        type: \"editable_text\",\n        message: {\n          event: \"onChanged\",\n          target: this.props.data.attributes.onChanged,\n          data: value,\n        },\n      })\n    );\n  }\n\n  _keyboardType(value: string) {\n    if (value?.indexOf(\"TextInputType.number\") > 0) {\n      return \"number\";\n    }\n    return \"text\";\n  }\n\n  _keyboardPattern(value: string) {\n    if (value?.indexOf(\"TextInputType.number\") > 0) {\n      const signed = value.indexOf(\"signed: true\") > 0;\n      const decimal = value.indexOf(\"decimal: true\") > 0;\n      if (signed && decimal) {\n        return \"[0-9+-.]*\";\n      }\n      if (signed && !decimal) {\n        return \"[0-9+-]*\";\n      }\n      if (!signed && !decimal) {\n        return \"[0-9]*\";\n      }\n    }\n    return \"\";\n  }\n\n  render() {\n    if (this.props.data.attributes.maxLines > 1) {\n      return (\n        <div style={{ ...cssConstraints(this.props.data.constraints) }}>\n          <textarea\n            style={{\n              ...cssTextStyle(this.props.data.attributes.style),\n              textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n              width: \"100%\",\n              height: \"100%\",\n              backgroundColor: \"transparent\",\n              border: \"none\",\n            }}\n            onInput={(event) => {\n              this._lastValue = (event.target as HTMLInputElement).value;\n              this._onChanged(\n                event.target as HTMLInputElement,\n                (event.target as HTMLInputElement).value\n              );\n            }}\n            onChange={(event) => {\n              this._lastValue = ((event.target as unknown) as HTMLInputElement).value;\n              this._onChanged(\n                (event.target as unknown) as HTMLInputElement,\n                ((event.target as unknown) as HTMLInputElement).value\n              );\n            }}\n            rows={this.props.data.attributes.maxLines}\n            readOnly={this.props.data.attributes.readOnly}\n          >\n            {this.props.data.attributes.value || this._lastValue}\n          </textarea>\n        </div>\n      );\n    }\n    return (\n      <div style={{ ...cssConstraints(this.props.data.constraints) }}>\n        <input\n          style={{\n            ...cssTextStyle(this.props.data.attributes.style),\n            textAlign: cssTextAlign(this.props.data.attributes.textAlign),\n            width: \"100%\",\n            height: \"100%\",\n            backgroundColor: \"transparent\",\n            border: \"none\",\n          }}\n          onKeyUp={(event) => {\n            if (event.key === \"Enter\" || event.keyCode === 13) {\n              this._onSubmitted(\n                event.target as HTMLInputElement,\n                (event.target as HTMLInputElement).value\n              );\n            }\n          }}\n          onInput={(event) => {\n            this._lastValue = (event.target as HTMLInputElement).value;\n            this._onChanged(\n              event.target as HTMLInputElement,\n              (event.target as HTMLInputElement).value\n            );\n          }}\n          onChange={(event) => {\n            this._lastValue = (event.target as HTMLInputElement).value;\n            this._onChanged(\n              event.target as HTMLInputElement,\n              (event.target as HTMLInputElement).value\n            );\n          }}\n          readOnly={this.props.data.attributes.readOnly}\n          type={\n            this.props.data.attributes.obscureText\n              ? \"password\"\n              : this._keyboardType(this.props.data.attributes.keyboardType)\n          }\n          pattern={this._keyboardPattern(\n            this.props.data.attributes.keyboardType\n          )}\n          value={this.props.data.attributes.value || this._lastValue}\n          autoFocus={this.props.data.attributes.autofocus}\n          autoCorrect={this.props.data.attributes.autoCorrect}\n        ></input>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { App } from \"../../app\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class TabBar extends Component<{\n  data: MPComponentsProps;\n  nested?: boolean;\n}> {\n  static height = \"50px\";\n\n  onTapIndex(index: number) {\n    App.callbackChannel(\n      JSON.stringify({\n        type: \"tab_bar\",\n        message: {\n          event: \"onTapIndex\",\n          target: this.props.data.attributes.onTapIndex,\n          data: index,\n        },\n      })\n    );\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          backgroundColor: \"white\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-around\",\n          top: \"0px\",\n          left: \"0px\",\n          right: \"0px\",\n          height: \"50px\",\n        }}\n      >\n        {this.props.data.children.map((it, idx) => {\n          return (\n            <div\n              onClick={() => this.onTapIndex(idx)}\n              style={{\n                height: \"50px\",\n                flex: \"1\",\n                display: \"flex\",\n                flexDirection: \"column\",\n              }}\n            >\n              <div\n                style={{\n                  flex: \"1\",\n                  display: \"flex\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  fontSize: \"14px\",\n                  fontWeight:\n                    idx === this.props.data.attributes.selected\n                      ? \"bold\"\n                      : \"normal\",\n                }}\n              >\n                {it.attributes.text}\n              </div>\n              <div\n                style={{\n                  height: \"2px\",\n                  backgroundColor: \"rgb(31,128,240)\",\n                  visibility:\n                    idx === this.props.data.attributes.selected\n                      ? \"visible\"\n                      : \"hidden\",\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import { cssPadding } from \"../utils/geometry\";\n\nexport interface SliverGridDelegateWithFixedCrossAxisCount {\n  mainAxisSpacing: number;\n  crossAxisSpacing: number;\n  crossAxisCount: number;\n  childAspectRatio: number;\n}\n\nexport const renderSliverGridDelegateWithFixedCrossAxisCount = (\n  delegate: SliverGridDelegateWithFixedCrossAxisCount,\n  padding: string | undefined,\n  children: any[],\n  options?: { parentWidth: number | undefined } | undefined\n): any[] => {\n  const clientWidth = options?.parentWidth ?? document.body.clientWidth;\n\n  const gridViewPadding = padding ? cssPadding(padding) : {};\n  const paddingTop = gridViewPadding.paddingTop\n    ? parseInt(gridViewPadding.paddingTop)\n    : 0;\n  const paddingLeft = gridViewPadding.paddingLeft\n    ? parseInt(gridViewPadding.paddingLeft)\n    : 0;\n  const paddingRight = gridViewPadding.paddingRight\n    ? parseInt(gridViewPadding.paddingRight)\n    : 0;\n  const paddingBottom = gridViewPadding.paddingBottom\n    ? parseInt(gridViewPadding.paddingBottom)\n    : 0;\n\n  return children.map((it, idx) => {\n    const itemWidth =\n      (clientWidth -\n        paddingLeft -\n        paddingRight -\n        delegate.crossAxisSpacing * (delegate.crossAxisCount - 1)) /\n      delegate.crossAxisCount;\n    const marginLeft =\n      idx % delegate.crossAxisCount === 0 ? `${paddingLeft}px` : \"unset\";\n    const marginRight =\n      (idx + 1) % delegate.crossAxisCount === 0\n        ? \"unset\"\n        : `${delegate.crossAxisSpacing}px`;\n    let marginTop =\n      idx / delegate.crossAxisCount >= 1\n        ? `${delegate.mainAxisSpacing}px`\n        : \"unset\";\n    let marginBottom = \"unset\";\n    if (idx < delegate.crossAxisCount && paddingTop > 0) {\n      marginTop = paddingTop + \"px\";\n    }\n    if (idx === children.length - 1 && paddingBottom > 0) {\n      marginBottom = paddingBottom + \"px\";\n    }\n    return (\n      <div\n        key={`layout_${idx}`}\n        style={{\n          width: itemWidth + \"px\",\n          height: itemWidth / delegate.childAspectRatio + \"px\",\n          marginLeft,\n          marginRight,\n          marginTop,\n          marginBottom,\n        }}\n      >\n        <div style={{ display: \"flex\", minWidth: \"100%\", minHeight: \"100%\" }}>\n          {it}\n        </div>\n      </div>\n    );\n  });\n};\n\nexport interface SliverGridDelegateWithMaxCrossAxisExtent {\n  mainAxisSpacing: number;\n  crossAxisSpacing: number;\n  maxCrossAxisExtent: number;\n  childAspectRatio: number;\n}\n\nexport const renderSliverGridDelegateWithMaxCrossAxisExtent = (\n  delegate: SliverGridDelegateWithMaxCrossAxisExtent,\n  padding: string | undefined,\n  children: any[],\n  options?: { parentWidth: number | undefined } | undefined\n): any[] => {\n  const clientWidth = options?.parentWidth ?? document.body.clientWidth;\n\n  const gridViewPadding = padding ? cssPadding(padding) : {};\n  const paddingTop = gridViewPadding.paddingTop\n    ? parseInt(gridViewPadding.paddingTop)\n    : 0;\n  const paddingLeft = gridViewPadding.paddingLeft\n    ? parseInt(gridViewPadding.paddingLeft)\n    : 0;\n  const paddingRight = gridViewPadding.paddingRight\n    ? parseInt(gridViewPadding.paddingRight)\n    : 0;\n  const paddingBottom = gridViewPadding.paddingBottom\n    ? parseInt(gridViewPadding.paddingBottom)\n    : 0;\n\n  const crossAxisCount = Math.floor(\n    (clientWidth - paddingLeft - paddingRight) / delegate.maxCrossAxisExtent\n  );\n\n  return children.map((it, idx) => {\n    const itemWidth =\n      (clientWidth -\n        paddingLeft -\n        paddingRight -\n        delegate.crossAxisSpacing * (crossAxisCount - 1)) /\n      crossAxisCount;\n    const marginLeft =\n      idx % crossAxisCount === 0 ? `${paddingLeft}px` : \"unset\";\n    const marginRight =\n      (idx + 1) % crossAxisCount === 0\n        ? \"unset\"\n        : `${delegate.crossAxisSpacing}px`;\n    let marginTop =\n      idx / crossAxisCount >= 1 ? `${delegate.mainAxisSpacing}px` : \"unset\";\n    let marginBottom = \"unset\";\n    if (idx < crossAxisCount && paddingTop > 0) {\n      marginTop = paddingTop + \"px\";\n    }\n    if (idx === children.length - 1 && paddingBottom > 0) {\n      marginBottom = paddingBottom + \"px\";\n    }\n    return (\n      <div\n        key={`layout_${idx}`}\n        style={{\n          width: itemWidth + \"px\",\n          height: itemWidth / delegate.childAspectRatio + \"px\",\n          marginLeft,\n          marginRight,\n          marginTop,\n          marginBottom,\n        }}\n      >\n        <div style={{ display: \"flex\", minWidth: \"100%\", minHeight: \"100%\" }}>\n          {it}\n        </div>\n      </div>\n    );\n  });\n};\n\nexport interface SliverWaterfallDelegate {\n  mainAxisSpacing: number;\n  crossAxisSpacing: number;\n  crossAxisCount: number;\n}\n\nexport const renderSliverWaterfallDelegate = (\n  delegate: SliverWaterfallDelegate,\n  padding: string | undefined,\n  children: any[],\n  options?: { parentWidth: number | undefined } | undefined\n): any => {\n  const clientWidth = options?.parentWidth ?? document.body.clientWidth;\n  const gridViewPadding = padding ? cssPadding(padding) : {};\n  const paddingLeft = gridViewPadding.paddingLeft\n    ? parseInt(gridViewPadding.paddingLeft)\n    : 0;\n  const paddingRight = gridViewPadding.paddingRight\n    ? parseInt(gridViewPadding.paddingRight)\n    : 0;\n  const paddingBottom = gridViewPadding.paddingBottom\n    ? parseInt(gridViewPadding.paddingBottom)\n    : 0;\n\n  const itemWidth =\n    (clientWidth -\n      paddingLeft -\n      paddingRight -\n      delegate.crossAxisSpacing * (delegate.crossAxisCount - 1)) /\n    delegate.crossAxisCount;\n  let currentRowIndex = 0;\n  let layoutCache: any[] = [];\n  let maxY = 0.0;\n\n  const layouts = children.map((it, idx) => {\n    const itemHeight = it.props?.data?.attributes?.height ?? 0.0;\n    let currentY: number;\n\n    for (\n      let index = currentRowIndex;\n      index < delegate.crossAxisCount;\n      index++\n    ) {\n      const nextIndex = index + 1 >= delegate.crossAxisCount ? 0 : index + 1;\n      if (layoutCache[index] && layoutCache[nextIndex]) {\n        if (\n          layoutCache[nextIndex].y + layoutCache[nextIndex].height <\n          layoutCache[index].y + layoutCache[index].height\n        ) {\n          currentRowIndex = nextIndex;\n          break;\n        } else {\n          currentRowIndex = index;\n          break;\n        }\n      } else {\n        currentRowIndex = index;\n        break;\n      }\n    }\n\n    if (layoutCache[currentRowIndex]) {\n      currentY =\n        layoutCache[currentRowIndex].y + layoutCache[currentRowIndex].height;\n      if (idx >= delegate.crossAxisCount) {\n        currentY += delegate.mainAxisSpacing;\n      }\n    } else {\n      currentY = gridViewPadding?.paddingTop\n        ? parseInt(gridViewPadding.paddingTop)\n        : 0.0;\n    }\n    const size = {\n      x:\n        paddingLeft +\n        itemWidth * currentRowIndex +\n        currentRowIndex * delegate.crossAxisSpacing,\n      y: currentY,\n      width: itemWidth,\n      height: itemHeight,\n    };\n    layoutCache[currentRowIndex] = size;\n    currentRowIndex = (currentRowIndex + 1) % delegate.crossAxisCount;\n    maxY = Math.max(currentY + itemHeight, maxY);\n    return size;\n  });\n\n  return (\n    <div style={{ position: \"relative\", width: \"100%\", height: maxY + \"px\" }}>\n      {children.map((it, idx) => {\n        return (\n          <div\n            key={`layout_${idx}`}\n            style={{\n              position: \"absolute\",\n              left: layouts[idx].x + \"px\",\n              top: layouts[idx].y + \"px\",\n              width: layouts[idx].width + \"px\",\n              height: layouts[idx].height + paddingBottom + \"px\",\n            }}\n          >\n            <div\n              style={{ display: \"flex\", minWidth: \"100%\", minHeight: \"100%\" }}\n            >\n              {it}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport {\n  renderSliverGridDelegateWithFixedCrossAxisCount,\n  renderSliverGridDelegateWithMaxCrossAxisExtent,\n  renderSliverWaterfallDelegate,\n} from \"./grid_waterfall_layout\";\nimport { cssConstraints } from \"../utils/geometry\";\n\nexport class GridView extends Component<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    if (this.props.data.attributes.isRoot) {\n      if (this.props.data.attributes.scrollDirection === \"Axis.horizontal\") {\n        constraints.maxWidth = \"unset\";\n      } else {\n        constraints.maxHeight = \"unset\";\n      }\n    }\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          ...constraints,\n          overflowX:\n            this.props.data.attributes.scrollDirection === \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n          overflowY:\n            this.props.data.attributes.scrollDirection !== \"Axis.horizontal\"\n              ? this.props.data.attributes.isRoot\n                ? \"unset\"\n                : \"scroll\"\n              : \"hidden\",\n        }}\n      >\n        {(() => {\n          if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithFixedCrossAxisCount\"\n          ) {\n            return renderSliverGridDelegateWithFixedCrossAxisCount(\n              this.props.data.attributes.gridDelegate,\n              this.props.data.attributes.padding,\n              this.props.children as any[],\n              {\n                parentWidth: this.props.data.attributes.width\n                  ? parseInt(this.props.data.attributes.width)\n                  : undefined,\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithMaxCrossAxisExtent\"\n          ) {\n            return renderSliverGridDelegateWithMaxCrossAxisExtent(\n              this.props.data.attributes.gridDelegate,\n              this.props.data.attributes.padding,\n              this.props.children as any[],\n              {\n                parentWidth: this.props.data.attributes.width\n                  ? parseInt(this.props.data.attributes.width)\n                  : undefined,\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverWaterfallDelegate\"\n          ) {\n            return renderSliverWaterfallDelegate(\n              this.props.data.attributes.gridDelegate,\n              this.props.data.attributes.padding,\n              this.props.children as any[],\n              {\n                parentWidth: this.props.data.attributes.width\n                  ? parseInt(this.props.data.attributes.width)\n                  : undefined,\n              }\n            );\n          } else {\n            return [];\n          }\n        })()}\n      </div>\n    );\n  }\n}\n\nexport class SliverWaterfallItem extends Component<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return this.props.children;\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport {\n  renderSliverGridDelegateWithFixedCrossAxisCount,\n  renderSliverGridDelegateWithMaxCrossAxisExtent,\n  renderSliverWaterfallDelegate,\n} from \"./grid_waterfall_layout\";\nimport { MPComponentsProps } from \"../component\";\n// import { cssPadding } from \"../utils/geometry\";\n\nexport class SliverGrid extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          minWidth: \"100%\",\n        }}\n      >\n        {(() => {\n          // const gridViewPadding = this.props.data.attributes.padding\n          //   ? cssPadding(this.props.data.attributes.padding)\n          //   : {};\n          // const paddingLeft = gridViewPadding.paddingLeft\n          //   ? parseInt(gridViewPadding.paddingLeft)\n          //   : 0;\n          // const paddingRight = gridViewPadding.paddingRight\n          //   ? parseInt(gridViewPadding.paddingRight)\n          //   : 0;\n          if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithFixedCrossAxisCount\"\n          ) {\n            return renderSliverGridDelegateWithFixedCrossAxisCount(\n              this.props.data.attributes.gridDelegate,\n              undefined,\n              this.props.children as any[],\n              {\n                parentWidth: parseInt(this.props.data.attributes.width),\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverGridDelegateWithMaxCrossAxisExtent\"\n          ) {\n            return renderSliverGridDelegateWithMaxCrossAxisExtent(\n              this.props.data.attributes.gridDelegate,\n              undefined,\n              this.props.children as any[],\n              {\n                parentWidth: parseInt(this.props.data.attributes.width),\n              }\n            );\n          } else if (\n            this.props.data.attributes.gridDelegate?.classname ===\n            \"SliverWaterfallDelegate\"\n          ) {\n            return renderSliverWaterfallDelegate(\n              this.props.data.attributes.gridDelegate,\n              undefined,\n              this.props.children as any[],\n              {\n                parentWidth: parseInt(this.props.data.attributes.width),\n              }\n            );\n          } else {\n            return [];\n          }\n        })()}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssConstraints, cssWidth } from \"../utils/geometry\";\n\nexport class Wrap extends Component<{ data: MPComponentsProps }> {\n  render() {\n    let constraints = cssConstraints(this.props.data.constraints);\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          flexDirection: (() => {\n            switch (this.props.data.attributes.direction) {\n              case \"Axis.vertical\":\n                return \"column\";\n              case \"Axis.horizontal\":\n                return \"row\";\n              default:\n                return \"column\";\n            }\n          })(),\n          justifyContent: (() => {\n            switch (this.props.data.attributes.mainAxisAlignment) {\n              case \"MainAxisAlignment.start\":\n                return \"flex-start\";\n              case \"MainAxisAlignment.center\":\n                return \"center\";\n              case \"MainAxisAlignment.end\":\n                return \"flex-end\";\n              case \"MainAxisAlignment.spaceBetween\":\n                return \"space-between\";\n              case \"MainAxisAlignment.spaceAround\":\n                return \"space-around\";\n              case \"MainAxisAlignment.spaceEvenly\":\n                return \"space-evenly\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          alignItems: (() => {\n            switch (this.props.data.attributes.crossAxisAlignment) {\n              case \"CrossAxisAlignment.start\":\n                return \"flex-start\";\n              case \"CrossAxisAlignment.center\":\n                return \"center\";\n              case \"CrossAxisAlignment.end\":\n                return \"flex-end\";\n              case \"CrossAxisAlignment.stretch\":\n                return \"stretch\";\n              default:\n                return \"flex-start\";\n            }\n          })(),\n          ...constraints,\n        }}\n      >\n        {(this.props.children as any[])?.map((it: any, index: number) => {\n          return (\n            <div\n              key={`item_${index}`}\n              style={{\n                marginRight: cssWidth(this.props.data.attributes.spacing),\n                marginBottom: cssWidth(this.props.data.attributes.runSpacing),\n              }}\n            >\n              {it}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class SliverPersistentHeader extends Component<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return (\n      <div\n        style={{\n          position: \"sticky\",\n          top: \"-1px\",\n          zIndex: 1,\n        }}\n      >\n        {this.props.children}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { MPComponentsProps } from \"../component\";\n\nexport class MPWebView extends Component<{ data: MPComponentsProps }> {\n  render() {\n    return (\n      <iframe\n        title=\"mp_web_view\"\n        src={this.props.data.attributes.url}\n        style={{ width: \"100%\", height: \"100%\", border: \"none\" }}\n      ></iframe>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { MPCore } from \"../mpcore\";\nimport { cssColor } from \"../utils/color\";\nimport { cssWidth } from \"../utils/geometry\";\n\nexport class MPScaffold extends Component<{ data: MPComponentsProps }> {\n  componentDidMount() {\n    this.setupDocumentTitle();\n  }\n\n  componentDidUpdate() {\n    this.setupDocumentTitle();\n  }\n\n  setupDocumentTitle() {\n    if (this.props.data.attributes?.name) {\n      document.title = this.props.data.attributes.name;\n    } else {\n      document.title = \"\";\n    }\n  }\n\n  render() {\n    const appBarHeight = this.props.data.attributes.appBarHeight;\n    return (\n      <div\n        id=\"mp_scaffold\"\n        style={{\n          paddingTop: appBarHeight + \"px\",\n          height:\n            this.props.data.attributes.isListBody === true\n              ? \"unset\"\n              : `calc(100% - ${appBarHeight}px)`,\n          backgroundColor: this.props.data.attributes.backgroundColor\n            ? cssColor(this.props.data.attributes.backgroundColor)\n            : \"unset\",\n          overflow:\n            this.props.data.attributes.isListBody === true ? \"unset\" : \"hidden\",\n        }}\n      >\n        {this.props.data.attributes.appBar ? (\n          <div\n            style={{\n              position: \"fixed\",\n              top: \"0px\",\n              left: \"0px\",\n              right: \"0px\",\n              zIndex: 2,\n            }}\n          >\n            {MPCore.render(this.props.data.attributes.appBar)}\n          </div>\n        ) : null}\n        {this.props.data.attributes.header\n          ? MPCore.render(this.props.data.attributes.header)\n          : null}\n        {this.props.data.attributes.tabBar ? (\n          <div\n            style={{\n              position:\n                this.props.data.attributes.isListBody === true\n                  ? \"sticky\"\n                  : \"unset\",\n              top: -1 + appBarHeight + \"px\",\n              zIndex: 1,\n            }}\n          >\n            {MPCore.render(this.props.data.attributes.tabBar)}\n          </div>\n        ) : null}\n        {MPCore.render(this.props.data.attributes.body)}\n        {this.props.data.attributes?.bottomBar ? (\n          <div\n            style={{\n              position: \"sticky\",\n              bottom: \"-1px\",\n              zIndex: 2,\n            }}\n          >\n            {MPCore.render(this.props.data.attributes.bottomBar)}\n          </div>\n        ) : null}\n        {this.props.data.attributes?.floatingBody ? (\n          <FloatingBody data={this.props.data.attributes?.floatingBody} />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport class FloatingBody extends Component<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    let positioned = this.props.data;\n    if (!positioned || positioned.name !== \"positioned\") {\n      return null;\n    }\n    return (\n      <div\n        style={{\n          position: \"fixed\",\n          left: cssWidth(positioned.attributes.left),\n          top: cssWidth(positioned.attributes.top),\n          right: cssWidth(positioned.attributes.right),\n          bottom: cssWidth(positioned.attributes.bottom),\n          width: cssWidth(positioned.attributes.width),\n          height: cssWidth(positioned.attributes.height),\n          backgroundColor: cssColor(this.props.data.attributes.backgroundColor),\n        }}\n      >\n        {this.props.data.children?.map((it) => MPCore.render(it))}\n      </div>\n    );\n  }\n}\n","import { ComponentType } from \"react\";\nimport { MPWebView } from \"./web_view\";\nimport { MPScaffold } from \"./scaffold\";\n\nexport class MPKit {\n  static components: { [key: string]: ComponentType<any> } = {\n    mp_web_view: MPWebView,\n    mp_scaffold: MPScaffold,\n  };\n}\n","import { Align } from \"./components/align\";\nimport { ColoredBox } from \"./components/colored_box\";\nimport { ConstrainedBox } from \"./components/constrained_box\";\nimport { Flex } from \"./components/flex\";\nimport { RichText } from \"./components/rich_text\";\nimport { Padding } from \"./components/padding\";\nimport { ListView } from \"./components/list_view\";\nimport { SizedBox } from \"./components/sized_box\";\nimport { DecoratedBox } from \"./components/decorated_box\";\nimport { Divider } from \"./components/divider\";\nimport { Image } from \"./components/image\";\nimport { ClipOval } from \"./components/clip_oval\";\nimport { ClipRRect } from \"./components/clip_r_rect\";\nimport { Opacity } from \"./components/opacity\";\nimport { Flexible } from \"./components/flexible\";\nimport { GestureDetector } from \"./components/gesture_detector\";\nimport { Stack } from \"./components/stack\";\nimport { Positioned } from \"./components/positioned\";\nimport { Visibility } from \"./components/visibility\";\nimport { Offstage } from \"./components/offstage\";\nimport { Transform } from \"./components/transform\";\nimport { AbsorbPointer } from \"./components/absorb_pointer\";\nimport { IgnorePointer } from \"./components/ignore_pointer\";\nimport { Icon } from \"./components/icon\";\nimport { CustomScrollView } from \"./components/custom_scroll_view\";\nimport { SliverList } from \"./components/sliver_list\";\nimport { Div } from \"./components/div\";\nimport { EditableText } from \"./components/editable_text\";\nimport { ComponentType, createElement, ReactElement } from \"react\";\nimport { MPComponentsProps } from \"./component\";\nimport { MPPlugin } from \"./plugin\";\nimport { TabBar } from \"./components/tab_bar\";\nimport { GridView, SliverWaterfallItem } from \"./components/grid_view\";\nimport { SliverGrid } from \"./components/sliver_grid\";\nimport { Wrap } from \"./components/wrap\";\nimport { SliverPersistentHeader } from \"./components/sliver_persistent_header\";\nimport { MPKit } from \"./mpkit/mpkit\";\n\nexport class MPCore {\n  static components: { [key: string]: ComponentType<any> } = {\n    colored_box: ColoredBox,\n    align: Align,\n    constrained_box: ConstrainedBox,\n    rich_text: RichText,\n    flex: Flex,\n    padding: Padding,\n    list_view: ListView,\n    sized_box: SizedBox,\n    decorated_box: DecoratedBox,\n    divider: Divider,\n    image: Image,\n    clip_oval: ClipOval,\n    clip_r_rect: ClipRRect,\n    opacity: Opacity,\n    flexible: Flexible,\n    gesture_detector: GestureDetector,\n    stack: Stack,\n    positioned: Positioned,\n    visibility: Visibility,\n    offstage: Offstage,\n    transform: Transform,\n    absorb_pointer: AbsorbPointer,\n    ignore_pointer: IgnorePointer,\n    icon: Icon,\n    custom_scroll_view: CustomScrollView,\n    sliver_list: SliverList,\n    sliver_grid: SliverGrid,\n    div: Div,\n    editable_text: EditableText,\n    tab_bar: TabBar,\n    grid_view: GridView,\n    wrap: Wrap,\n    sliver_waterfall_item: SliverWaterfallItem,\n    sliver_persistent_header: SliverPersistentHeader,\n    ...MPKit.components,\n  };\n\n  static plugins: MPPlugin[] = [];\n\n  static registerPlugin(plugin: MPPlugin) {\n    for (const key in plugin.components) {\n      this.components[key] = plugin.components[key];\n    }\n    this.plugins.push(plugin);\n  }\n\n  static render(data: MPComponentsProps, key?: string): ReactElement | null {\n    if (!data || !this.components[data.name]) return null;\n    return createElement(\n      this.components[data.name],\n      { key, data: data } as any,\n      data.children?.map((it: any, index: number) =>\n        this.render(it, `item_${index}`)\n      )\n    );\n  }\n}\n","import App from \"../../app\";\n\nexport class WebDialogs {\n  static receivedWebDialogsMessage(message: any) {\n    if (message[\"params\"][\"dialogType\"] === \"alert\") {\n      window.alert(message[\"params\"][\"message\"]);\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"action\",\n          message: { event: \"callback\", id: message[\"id\"] },\n        })\n      );\n    } else if (message[\"params\"][\"dialogType\"] === \"confirm\") {\n      const result = window.confirm(message[\"params\"][\"message\"]);\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"action\",\n          message: { event: \"callback\", id: message[\"id\"], data: result },\n        })\n      );\n    } else if (message[\"params\"][\"dialogType\"] === \"prompt\") {\n      const result = window.prompt(\n        message[\"params\"][\"message\"],\n        message[\"params\"][\"defaultValue\"]\n      );\n      App.callbackChannel(\n        JSON.stringify({\n          type: \"action\",\n          message: { event: \"callback\", id: message[\"id\"], data: result },\n        })\n      );\n    }\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport { MPComponentsProps } from \"../component\";\nimport { cssColor } from \"../utils/color\";\nimport { MPCore } from \"../mpcore\";\nimport { App } from \"../../app\";\n\nexport class Overlay extends Component<{\n  data: MPComponentsProps;\n}> {\n  render() {\n    return (\n      <div\n        style={{\n          position: \"fixed\",\n          top: \"0px\",\n          left: \"0px\",\n          right: \"0px\",\n          bottom: \"0px\",\n          backgroundColor: cssColor(this.props.data.attributes.backgroundColor),\n        }}\n        onClick={(e: any) => {\n          App.callbackChannel(\n            JSON.stringify({\n              type: \"overlay\",\n              message: {\n                event: \"onBackgroundTap\",\n                target: this.props.data.attributes.onBackgroundTap,\n              },\n            })\n          );\n          e.stopPropagation();\n        }}\n      >\n        {MPCore.render(this.props.data.children[0])}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { App } from \"../app\";\n\nexport class ScrollListener extends React.Component {\n  _scrollListener: any;\n  _scrollToBottomLastCall: any;\n\n  componentDidMount() {\n    if (window) {\n      this._scrollListener = () => {\n        if (\n          window.pageYOffset + window.innerHeight >=\n          window.document.body.scrollHeight - 200\n        ) {\n          if (this._scrollToBottomLastCall > new Date().getTime()) {\n            return;\n          }\n          this._scrollToBottomLastCall = new Date().getTime() + 2000;\n          App.callbackChannel(\n            JSON.stringify({\n              type: \"scroller\",\n              message: {\n                event: \"onScrollToBottom\",\n              },\n            })\n          );\n        }\n      };\n      window.document.addEventListener(\"scroll\", this._scrollListener);\n    }\n  }\n\n  componentWillUnmount() {\n    window.document.removeEventListener(\"scroll\", this._scrollListener);\n  }\n\n  render() {\n    return null;\n  }\n}\n","import React from \"react\";\nimport { MPComponentsProps } from \"./component\";\n\nexport class ScrollBehavior extends React.Component<{\n  displayingDialog: boolean;\n  scaffold: MPComponentsProps;\n}> {\n  componentDidMount() {\n    this.setupBodyScrollBehavior();\n  }\n\n  componentDidUpdate() {\n    this.setupBodyScrollBehavior();\n  }\n\n  setupBodyScrollBehavior() {\n    if (this.props.displayingDialog) {\n      document.body.style.setProperty(\"overflow\", \"hidden\");\n    } else if (this.props.scaffold?.attributes.isListBody === true) {\n      document.body.style.setProperty(\"overflow\", \"unset\");\n    } else {\n      document.body.style.setProperty(\"overflow\", \"hidden\");\n    }\n  }\n\n  render() {\n    return <div></div>;\n  }\n}\n","import React from \"react\";\nimport { App } from \"../app\";\nimport { MPComponentsProps } from \"./component\";\nimport { MPCore } from \"./mpcore\";\n\nexport class TextMeasurer extends React.Component<\n  {\n    scaffold: MPComponentsProps;\n  },\n  { targetTexts: MPComponentsProps[] }\n> {\n  static scanRichText(data: MPComponentsProps, result: MPComponentsProps[]) {\n    if (!data) return;\n    if (data.name === \"rich_text\" && data.attributes.measureId) {\n      result.push(data);\n    } else {\n      data.children?.forEach((it) => {\n        this.scanRichText(it, result);\n      });\n    }\n  }\n\n  state: { targetTexts: MPComponentsProps[] } = { targetTexts: [] };\n\n  componentDidMount() {\n    this.doScan(this.props);\n  }\n\n  componentWillReceiveProps(newProps: any) {\n    this.doScan(newProps);\n  }\n\n  componentDidUpdate() {\n    if (!this.state.targetTexts.length) return;\n    App.callbackChannel(\n      JSON.stringify({\n        type: \"rich_text\",\n        message: {\n          event: \"onMeasured\",\n          data: this.state.targetTexts.map((it) => {\n            const bounds = document\n              .getElementById(`text_measurer_${it.attributes.measureId}`)\n              ?.getBoundingClientRect();\n            if (!bounds) {\n              return {\n                measureId: it.attributes.measureId,\n                size: { width: 0, height: 0 },\n              };\n            } else {\n              return {\n                measureId: it.attributes.measureId,\n                size: { width: bounds.width, height: bounds.height },\n              };\n            }\n          }),\n        },\n      })\n    );\n  }\n\n  doScan(props: { scaffold: MPComponentsProps }) {\n    let result: MPComponentsProps[] = [];\n    TextMeasurer.scanRichText(props.scaffold?.attributes?.body, result);\n    this.setState({\n      targetTexts: result,\n    });\n  }\n\n  render() {\n    if (!this.state.targetTexts.length) {\n      return null;\n    }\n    return (\n      <div\n        style={{\n          display: \"contents\",\n        }}\n      >\n        {this.state.targetTexts.map((it) => {\n          if (it.constraints) {\n            it.constraints.measuring = true;\n          }\n          return (\n            <div\n              key={`text_measurer_${it.attributes.measureId}`}\n              id={`text_measurer_${it.attributes.measureId}`}\n              style={{\n                position: \"absolute\",\n                left: \"0px\",\n                top: \"0px\",\n                opacity: 0,\n                zIndex: -9999,\n                pointerEvents: \"none\",\n              }}\n            >\n              {MPCore.render(it)}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { MPCore } from \"./mpcore/mpcore\";\nimport { WebDialogs } from \"./mpcore/components/web_dialogs\";\nimport { applyPatch } from \"fast-json-patch\";\nimport { Overlay } from \"./mpcore/components/overlay\";\nimport { ScrollListener } from \"./mpcore/scroll_listener\";\nimport { ScrollBehavior } from \"./mpcore/scroll_behavior\";\nimport { TextMeasurer } from \"./mpcore/text_measurer\";\n\nexport let flutterBase = \"./\";\nexport const flutterFonts = [\n  { name: \"MaterialIcons\", url: \"MaterialIcons-Regular.otf\" },\n];\n\nexport class App extends Component<any, any> {\n  static callbackChannel: (message: string) => void = () => {};\n\n  state: any = {};\n  lastFrameData: any;\n\n  componentDidMount() {\n    if ((window as any).mpflutterUseSocket === 1) {\n      this.setupDartChannel();\n    } else {\n      this.setupJSChannel();\n    }\n  }\n\n  setupDartChannel() {\n    flutterBase = `http://${new URL(window.location.href).hostname}:9898`;\n    const socket = new WebSocket(\n      `ws://${new URL(window.location.href).hostname}:9898/`\n    );\n    socket.onmessage = (event) => {\n      try {\n        const messageData = JSON.parse(event.data);\n        if (messageData.type === \"frame_data\") {\n          this.lastFrameData = messageData;\n          this.setState({\n            data: messageData.message,\n          });\n        } else if (messageData.type === \"frame_diff_data\") {\n          const patchedFrameData = applyPatch(\n            this.lastFrameData,\n            messageData.message as any\n          ).newDocument;\n          this.lastFrameData = patchedFrameData;\n          this.setState({\n            data: patchedFrameData.message,\n          });\n        } else if (messageData.type === \"route\") {\n          Router.receivedRouteMessage(messageData.message);\n        } else if (messageData.type === \"action:web_dialogs\") {\n          WebDialogs.receivedWebDialogsMessage(messageData.message);\n        } else {\n          MPCore.plugins.forEach((plugin) => {\n            plugin.onMessage?.call(this, messageData);\n          });\n        }\n      } catch (error) {}\n    };\n    socket.onopen = () => {\n      this.setupFonts();\n      this.setupPlugins();\n    };\n    socket.onclose = () => {\n      setTimeout(() => {\n        this.setupDartChannel();\n      }, 1000);\n    };\n    Router.setupPopStateListener();\n    App.callbackChannel = (message) => {\n      try {\n        socket.send(message);\n      } catch (error) {}\n    };\n  }\n\n  setupJSChannel() {\n    window.addEventListener(\"message\", (event) => {\n      try {\n        const messageData = JSON.parse(event.data);\n        if (messageData.type === \"frame_data\") {\n          this.lastFrameData = messageData;\n          this.setState({\n            data: messageData.message,\n          });\n        } else if (messageData.type === \"frame_diff_data\") {\n          const patchedFrameData = applyPatch(\n            this.lastFrameData,\n            messageData.message as any\n          ).newDocument;\n          this.lastFrameData = patchedFrameData;\n          this.setState({\n            data: patchedFrameData.message,\n          });\n        } else if (messageData.type === \"route\") {\n          Router.receivedRouteMessage(messageData.message);\n        } else {\n          MPCore.plugins.forEach((plugin) => {\n            plugin.onMessage?.call(this, messageData);\n          });\n        }\n      } catch (error) {}\n    });\n    this.setupFonts();\n    this.setupPlugins();\n    Router.setupPopStateListener();\n    App.callbackChannel = (message) => {\n      window.postMessage(message, \"*\");\n    };\n  }\n\n  setupFonts() {\n    if (typeof window !== \"undefined\") {\n      flutterFonts.forEach((font) => {\n        const style = document.createElement(\"style\");\n        style.innerHTML = `\n        @font-face{\n          font-family: '${font.name}';\n          src: url('${flutterBase}/assets/fonts/${font.url}');\n        }\n        `;\n        document.body.appendChild(style);\n      });\n    }\n  }\n\n  setupPlugins() {\n    if (typeof window !== \"undefined\") {\n      const script = document.createElement(\"script\");\n      script.src = `${flutterBase}/assets/mp_plugins.js`;\n      script.addEventListener(\"load\", () => {\n        this.setState({});\n      });\n      document.body.appendChild(script);\n      const link = document.createElement(\"link\");\n      link.rel = \"stylesheet\";\n      link.type = \"text/css\";\n      link.href = `${flutterBase}/assets/mp_plugins.css`;\n      link.media = \"all\";\n      document.head.appendChild(link);\n    }\n  }\n\n  render() {\n    return (\n      <div style={{ display: \"contents\" }}>\n        {MPCore.render(this.state.data?.scaffold)}\n        {this.state.data?.overlays?.length > 0\n          ? this.state.data.overlays.map((it: any, index: number) => (\n              <Overlay key={`overlay_${this.props.index}`} data={it} />\n            ))\n          : null}\n        <ScrollListener />\n        <ScrollBehavior\n          displayingDialog={this.state.isDialogDisplaying}\n          scaffold={this.state.data?.scaffold}\n        />\n        <TextMeasurer scaffold={this.state.data?.scaffold} />\n      </div>\n    );\n  }\n\n  attachDialog(element: any, touchable: boolean = true) {\n    this.setState({ isDialogDisplaying: true });\n    if (touchable) {\n      ReactDOM.render(\n        <div style={{ pointerEvents: \"auto\" }}>{element}</div>,\n        document.getElementById(\"mp_dialog\")\n      );\n    } else {\n      ReactDOM.render(element, document.getElementById(\"mp_dialog\"));\n    }\n  }\n\n  detachDialog() {\n    this.setState({ isDialogDisplaying: false });\n    ReactDOM.unmountComponentAtNode(document.getElementById(\"mp_dialog\")!);\n  }\n}\n\nclass Router {\n  static setupPopStateListener() {\n    if (window) {\n      window.addEventListener(\"popstate\", (e) => {\n        if (this.doBacking) {\n          return true;\n        }\n        App.callbackChannel(\n          JSON.stringify({\n            type: \"router\",\n            message: {\n              event: \"doPop\",\n            },\n          })\n        );\n      });\n    }\n  }\n\n  static receivedRouteMessage(message: any) {\n    if (message.event === \"didPush\") {\n      this.didPush(message);\n    } else if (message.event === \"didPop\") {\n      this.didPop();\n    }\n  }\n\n  static didPush(message: any) {\n    if (window) {\n      let routeUrl: string = message.route.name;\n      if (routeUrl.indexOf(\"?\") > 0) {\n        let path = routeUrl.split(\"?\")[0];\n        let others = routeUrl\n          .split(\"?\")\n          .filter((it, idx) => idx > 0)\n          .join(\"?\");\n        routeUrl = `${path}${encodeURIComponent(`?${others}`)}`;\n      }\n      window.history.pushState(message.route, \"\", `?route=${routeUrl}`);\n    }\n  }\n\n  static doBacking = false;\n\n  static didPop() {\n    if (window) {\n      this.doBacking = true;\n      window.history.back();\n      this.doBacking = false;\n    }\n  }\n}\n\nif (typeof window !== \"undefined\") {\n  (window as any).$MPFlutter = {\n    MPCore,\n    App,\n  };\n  (window as any).React = React;\n  (window as any).ReactDOM = ReactDOM;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/app\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}